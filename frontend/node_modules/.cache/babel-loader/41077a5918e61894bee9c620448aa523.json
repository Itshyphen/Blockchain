{"ast":null,"code":"var _jsxFileName = \"/home/ranju/location/meDossier/frontend/src/pages/patients_dashboard.js\",\n    _s = $RefreshSig$();\n\nimport React, { useRef, useState } from \"react\";\nimport { Tabs, Tab, Row, Nav, Navbar, Card, Button } from \"react-bootstrap\";\nimport { withStyles, makeStyles } from '@material-ui/core/styles';\nimport { Table, TableBody, TableCell, TableContainer, TableHead, TableRow } from \"@material-ui/core\";\nimport Paper from '@material-ui/core/Paper'; // import { Button } from \"react-bootstrap\";\n\nimport ipfs from \"../ipfs\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport logo from \"./logo.png\";\nimport './general.css';\nimport './patient.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Patient(props) {\n  _s();\n\n  const dnameRef = useRef();\n  const reasonRef = useRef();\n  const dateRef = useRef();\n  const addressRef = useRef();\n  const [ipfshash, setIpfshash] = useState();\n  const [buffer, setBuffer] = useState();\n  console.log(props.records);\n  console.log(props.patient); // const[records,setRecords] =useState([]);\n\n  const doctorRef = useRef();\n  const useStyles = makeStyles({\n    table: {\n      minWidth: 700\n    },\n    root: {\n      width: \"100%\"\n    },\n    container: {\n      maxHeight: 440\n    }\n  });\n  const classes = useStyles();\n  const StyledTablecell = withStyles(theme => ({\n    head: {\n      backgroundColor: theme.palette.info.main,\n      color: theme.palette.common.blue\n    },\n    body: {\n      fontSIze: 14\n    }\n  }))(TableCell);\n  const StyledTableRow = withStyles(theme => ({\n    root: {\n      \"&:nth-of-type(odd)\": {\n        backgroundColor: theme.palette.action.hover,\n        color: theme.palette.common.pink\n      }\n    }\n  }))(TableRow);\n\n  const uploadrecord = async (dname, reason, date, address) => {\n    try {\n      console.log(\"hh\");\n      console.log(dname, reason, date);\n      console.log(props.currentAccount);\n      console.log(props.contract);\n      const res = await props.contract.methods.addRecord(dname, reason, date, ipfshash, props.currentAccount).send({\n        from: props.currentAccount\n      });\n      console.log(res);\n      props.getPatientRecord();\n    } catch (error) {\n      alert(error);\n    }\n  };\n\n  const Details = () => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Details\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Your Details\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Your Details\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 27\n        }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 27\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"b\", {\n            children: [\"Account Address:\", /*#__PURE__*/_jsxDEV(\"span\", {\n              children: props.currentAccount\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 47\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 27\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"details\",\n          children: [/*#__PURE__*/_jsxDEV(\"b\", {\n            children: [\"Name :\", /*#__PURE__*/_jsxDEV(\"span\", {\n              children: props.patient._name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"b\", {\n            children: [\"Phone :\", /*#__PURE__*/_jsxDEV(\"span\", {\n              children: props.patient._phone\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 38\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"b\", {\n            children: [\"Gender :\", /*#__PURE__*/_jsxDEV(\"span\", {\n              children: props.patient._gender\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 39\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"b\", {\n            children: [\"Date of Birth :\", /*#__PURE__*/_jsxDEV(\"span\", {\n              children: props.patient._dob\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 46\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"b\", {\n            children: [\"Blood Group :\", /*#__PURE__*/_jsxDEV(\"span\", {\n              children: props.patient._bloodgroup\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 44\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 27\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 11\n    }, this);\n  };\n\n  const handlechange = async event => {\n    event.preventDefault(); //capture the userfile \n\n    const file = event.target.files[0]; //Read the file\n\n    let reader = new window.FileReader();\n    reader.readAsArrayBuffer(file); //file is converted to a buffer to prepare for uploading to IPFS\n\n    reader.onloadend = () => {\n      let buffer = Buffer(reader.result);\n      setBuffer(buffer);\n      console.log(\"buffer\", buffer);\n    };\n  };\n\n  const onsubmit = async event => {\n    event.preventDefault();\n    console.log(\"hh\");\n    const ipfsHash = await ipfs.add(buffer);\n    console.log(ipfsHash);\n    console.log(ipfsHash[0].hash);\n    setIpfshash(ipfsHash[0].hash);\n  };\n\n  const Upload = () => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"ReportUpload\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \" Report Upload\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(Card, {\n        className: \"small card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"upload\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \" Upload your report to IPFS\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: onsubmit,\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"file\",\n              onChange: handlechange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              onClick: onsubmit,\n              children: \"Submit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 10\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 5\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \" Upload your record to blockchain  \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 10\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 60\n          }, this), \"Name:\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Name of the doctor\",\n            ref: dnameRef\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 16\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 26\n          }, this), \"Reason: \", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Reason to visit hospital\",\n            ref: reasonRef\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 18\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 11\n          }, this), \"VisitedDate: \", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"date\",\n            ref: dateRef\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 23\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 14\n          }, this), \"Your address:\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Your address\",\n            ref: addressRef\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 23\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 10\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            onClick: event => {\n              event.preventDefault();\n              const dname = dnameRef.current.value;\n              const reason = reasonRef.current.value;\n              const date = dateRef.current.value;\n              const address = reasonRef.current.value;\n              uploadrecord(dname, reason, date, address);\n            },\n            children: \"Submit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 10\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 10\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 13\n    }, this);\n  };\n\n  const Report = () => {\n    if (props.records.length === 0) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Your Report\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \" Your record will appear here.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \" loading........\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 10\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 9\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Report\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Your Report\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Paper, {\n        className: classes.root,\n        children: /*#__PURE__*/_jsxDEV(TableContainer, {\n          className: classes.container,\n          children: /*#__PURE__*/_jsxDEV(Table, {\n            className: classes.table,\n            size: \"small\",\n            stickyHeader: true,\n            \"aria-label\": \"sticky table\",\n            children: [/*#__PURE__*/_jsxDEV(TableHead, {\n              children: /*#__PURE__*/_jsxDEV(TableRow, {\n                children: [/*#__PURE__*/_jsxDEV(StyledTablecell, {\n                  children: \" #\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 224,\n                  columnNumber: 27\n                }, this), /*#__PURE__*/_jsxDEV(StyledTablecell, {\n                  children: \"Doctor name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 225,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(StyledTablecell, {\n                  children: \"Reason to visit doctor \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 228,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(StyledTablecell, {\n                  children: \"VisitedDate\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 229,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(StyledTablecell, {\n                  children: \"Records\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 230,\n                  columnNumber: 29\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 223,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 222,\n              columnNumber: 21\n            }, this), props.records.map((record, key) => /*#__PURE__*/_jsxDEV(TableBody, {\n              children: /*#__PURE__*/_jsxDEV(StyledTableRow, {\n                children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                  children: key\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 238,\n                  columnNumber: 27\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  children: record.dname\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 239,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  children: record.reason\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 240,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  children: record.visitedDate\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 241,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  children: /*#__PURE__*/_jsxDEV(\"a\", {\n                    href: `https://ipfs.io/ipfs/${record.ipfs}`,\n                    target: \"_blank\",\n                    children: \" click here to view your record\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 242,\n                    columnNumber: 36\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 242,\n                  columnNumber: 25\n                }, this)]\n              }, key, true, {\n                fileName: _jsxFileName,\n                lineNumber: 237,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 235,\n              columnNumber: 21\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 7\n    }, this);\n  };\n\n  const Access = () => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"small card\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Grant/Revoke Access\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: event => {\n          event.preventDefault();\n          const doctor = doctorRef.current.value;\n          props.grantAccess(doctor);\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Provide Access: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \" Address to grant access\",\n          ref: doctorRef\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          children: \" Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: event => {\n          event.preventDefault();\n          const doctor = doctorRef.current.value;\n          props.revokeAccess(doctor);\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \" Revoke Access: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \" Address to revoke access from\",\n          ref: doctorRef\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          children: \" Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 3\n    }, this);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"patient_main\",\n    children: [/*#__PURE__*/_jsxDEV(Navbar // bg=\"light\" \n    , {\n      color: \"purple\",\n      expand: \"lg\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: logo // width=\"250\"\n        // height=\"60\"\n        ,\n        className: \"d-inline-block align-top\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(Navbar.Toggle, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Navbar.Collapse, {\n        className: \"justify-content-end\",\n        children: [/*#__PURE__*/_jsxDEV(Navbar.Text, {\n          children: [\" \", /*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"Welcome \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 301,\n            columnNumber: 30\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Nav.Link, {\n          href: \"/\",\n          width: \"250\",\n          color: \"black\",\n          children: [\" \", /*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"Logout\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 302,\n            columnNumber: 62\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 302,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"tab-wrapper\",\n      children: /*#__PURE__*/_jsxDEV(Tab.Container, {\n        defaultActiveKey: \"details\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-sm-3\",\n            children: /*#__PURE__*/_jsxDEV(Nav, {\n              className: \"flex-column\",\n              children: [/*#__PURE__*/_jsxDEV(Nav.Item, {\n                children: [/*#__PURE__*/_jsxDEV(Nav.Link, {\n                  eventKey: \"details\",\n                  children: \"Details\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 312,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 312,\n                  columnNumber: 76\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 311,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(Nav.Item, {\n                children: [/*#__PURE__*/_jsxDEV(Nav.Link, {\n                  eventKey: \"profile\",\n                  children: \"AccessRecord\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 315,\n                  columnNumber: 29\n                }, this), \" \", /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 315,\n                  columnNumber: 82\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 314,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(Nav.Item, {\n                children: [/*#__PURE__*/_jsxDEV(Nav.Link, {\n                  eventKey: \"uploadRecord\",\n                  children: \"UploadRecord\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 316,\n                  columnNumber: 39\n                }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 316,\n                  columnNumber: 96\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 316,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(Nav.Item, {\n                children: [/*#__PURE__*/_jsxDEV(Nav.Link, {\n                  eventKey: \"access\",\n                  children: \"Grant/Revoke Acccess\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 317,\n                  columnNumber: 39\n                }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 317,\n                  columnNumber: 98\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 317,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 310,\n              columnNumber: 27\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 309,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-sm-9\",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              children: \" Welcome to Medossier\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 324,\n              columnNumber: 27\n            }, this), /*#__PURE__*/_jsxDEV(Tab.Content, {\n              children: [/*#__PURE__*/_jsxDEV(Tab.Pane, {\n                eventKey: \"details\",\n                title: \"Details\",\n                children: /*#__PURE__*/_jsxDEV(Details, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 329,\n                  columnNumber: 17\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 328,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Tab.Pane, {\n                eventKey: \"profile\",\n                title: \"AcessRecord\",\n                children: /*#__PURE__*/_jsxDEV(Report, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 332,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 331,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Tab.Pane, {\n                eventKey: \"uploadRecord\",\n                title: \"UploadRecord\",\n                children: /*#__PURE__*/_jsxDEV(Upload, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 336,\n                  columnNumber: 15\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 335,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Tab.Pane, {\n                eventKey: \"access\",\n                title: \"Grant/Revoke Acccess\",\n                children: /*#__PURE__*/_jsxDEV(Access, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 339,\n                  columnNumber: 16\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 338,\n                columnNumber: 14\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 326,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 323,\n            columnNumber: 27\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 308,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 307,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 286,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Patient, \"2kfBC424JXHSB5Vi94+/RDWRQU4=\", false, function () {\n  return [useStyles];\n});\n\n_c = Patient;\nexport default Patient;\n\nvar _c;\n\n$RefreshReg$(_c, \"Patient\");","map":{"version":3,"sources":["/home/ranju/location/meDossier/frontend/src/pages/patients_dashboard.js"],"names":["React","useRef","useState","Tabs","Tab","Row","Nav","Navbar","Card","Button","withStyles","makeStyles","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","ipfs","logo","Patient","props","dnameRef","reasonRef","dateRef","addressRef","ipfshash","setIpfshash","buffer","setBuffer","console","log","records","patient","doctorRef","useStyles","table","minWidth","root","width","container","maxHeight","classes","StyledTablecell","theme","head","backgroundColor","palette","info","main","color","common","blue","body","fontSIze","StyledTableRow","action","hover","pink","uploadrecord","dname","reason","date","address","currentAccount","contract","res","methods","addRecord","send","from","getPatientRecord","error","alert","Details","_name","_phone","_gender","_dob","_bloodgroup","handlechange","event","preventDefault","file","target","files","reader","window","FileReader","readAsArrayBuffer","onloadend","Buffer","result","onsubmit","ipfsHash","add","hash","Upload","current","value","Report","length","map","record","key","visitedDate","Access","doctor","grantAccess","revokeAccess"],"mappings":"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","sourcesContent":["import React, { useRef, useState } from  \"react\";\nimport {Tabs, Tab, Row, Nav, Navbar,Card,Button} from \"react-bootstrap\";\nimport {withStyles,makeStyles} from '@material-ui/core/styles';\nimport {Table, TableBody,TableCell,TableContainer,TableHead,TableRow}from \"@material-ui/core\";\nimport Paper from '@material-ui/core/Paper';\n// import { Button } from \"react-bootstrap\";\nimport ipfs from \"../ipfs\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport logo from \"./logo.png\"\nimport './general.css';\nimport './patient.css'\n\n\nfunction Patient(props){\n   const dnameRef = useRef();\n   const reasonRef = useRef();\n   const dateRef = useRef();\n   const addressRef = useRef();\n   const [ipfshash, setIpfshash] =useState();\n   const[buffer,setBuffer] = useState();\n  console.log(props.records);\n  console.log(props.patient);\n  // const[records,setRecords] =useState([]);\n    const doctorRef = useRef();\n\n  const useStyles = makeStyles({\n    table:{\n      minWidth:700,\n    },\n    root:{\n      width:\"100%\"\n\n    },\n    container:{\n      maxHeight:440,\n    }\n  });\n  const classes = useStyles();\n    const StyledTablecell = withStyles((theme)=>({\n      head:{\n          backgroundColor:theme.palette.info.main,\n          color : theme.palette.common.blue,\n      },\n      body:{\n          fontSIze:14,\n      },\n   })) (TableCell);\n\n   const StyledTableRow = withStyles((theme)=>({\n       root:{\n           \"&:nth-of-type(odd)\":{\n               backgroundColor: theme.palette.action.hover,\n               color: theme.palette.common.pink,\n           },\n       },\n   }))(TableRow)\n\n\n    const uploadrecord= async(dname,reason,date,address)=>{\n      try{\n        console.log(\"hh\")\n        console.log(dname,reason,date);\n        console.log(props.currentAccount);\n        console.log(props.contract);\n         const res = await props.contract.methods.addRecord(dname,reason,date,ipfshash,props.currentAccount).send({from:props.currentAccount});\n        console.log(res);\n         props.getPatientRecord();\n\n      }catch(error){\n        alert(error)\n\n      }\n    }\n\n    const Details = ()=>{\n        return(\n          <div className=\"Details\">\n            <h2>\n                  Your Details\n\n            </h2>\n            <div className=\"card\">\n                          <h3>Your Details</h3>\n                          <hr></hr>\n                          <div>\n                            <b>\n                              Account Address:<span>{props.currentAccount}</span>\n                            </b>\n                          </div>\n                          <div className=\"details\">\n                            <b>\n                              Name :<span>{props.patient._name}</span>\n                            </b>\n                            <br></br>\n                            <b>\n                              Phone :<span>{props.patient._phone}</span>\n                            </b>\n                            <br></br>\n                            <b>\n                              Gender :<span>{props.patient._gender}</span>\n                            </b>\n                            <br />\n                            <b>\n                              Date of Birth :<span>{props.patient._dob}</span>\n                            </b>\n                            <br></br>\n                            <b>\n                              Blood Group :<span>{props.patient._bloodgroup}</span>\n                            </b>\n                          </div>\n                        </div>\n            </div>\n\n        )\n    }\nconst handlechange = async(event)=>{\n  event.preventDefault();\n            //capture the userfile \n            const file = event.target.files[0];\n            //Read the file\n            let reader = new window.FileReader()\n            reader.readAsArrayBuffer(file)\n            //file is converted to a buffer to prepare for uploading to IPFS\n            reader.onloadend=()=>{\n                let buffer = Buffer(reader.result)\n                setBuffer(buffer);\n                console.log(\"buffer\",buffer);\n            }\n\n}\nconst onsubmit = async(event)=>{\n  event.preventDefault();\n  console.log(\"hh\");\n  const ipfsHash = await ipfs.add(buffer);\n  console.log(ipfsHash);\n        console.log(ipfsHash[0].hash)\n        setIpfshash(ipfsHash[0].hash);\n\n}\n\n    const Upload =()=>{\n        return(\n            <div className=\"ReportUpload\">\n              <h2> Report Upload</h2>\n              <Card className=\"small card\">\n\n              <div className=\"upload\">\n                <label> Upload your report to IPFS</label>\n    <form onSubmit={onsubmit}>\n      \n        <input type= \"file\"  onChange ={handlechange}\n       \n        />\n        <br/>\n         <Button onClick={onsubmit}>Submit</Button>\n         </form>\n         </div>\n\n         {/* Upload file to blockchain */}\n         <form \n        //  onSubmit= {(event)=>{\n        //    event.preventDefault();\n        //    uploadrecord();\n        //  }}\n         >\n         <label> Upload your record to blockchain  </label><br/>\n          Name:<input \n         type =\"text\"placeholder=\"Name of the doctor\" \n         ref={dnameRef}/><br/>\n\n         Reason: <input \n         type=\"text\" placeholder=\"Reason to visit hospital\"\n         ref ={reasonRef}\n         />\n          <br/>\n         VisitedDate: <input type=\"date\" \n         ref ={dateRef}/>\n             <br/>\n         Your address:<input \n         type =\"text\"\n         placeholder=\"Your address\"\n         ref ={addressRef}/>\n         <br/>\n         {/* <input type =\"submit\"/> */}\n         <Button onClick={(event)=>{\n           event.preventDefault();\n\n           const dname = dnameRef.current.value;\n           const reason = reasonRef.current.value;\n           const date = dateRef.current.value;\n           const address = reasonRef.current.value\n\n           uploadrecord(dname,reason,date,address);\n         }}>Submit</Button>\n         </form>\n         </Card>\n         </div>\n        )\n    }\n\n  const Report =()=>{\n    if(props.records.length  === 0){\n      return(\n        <div> \n          <h2>\n          Your Report\n        </h2>\n        <p> Your record will appear here.</p>\n         <p> loading........</p>\n        </div>\n      )\n    }\n    \n    return(\n      <div className=\"Report\">\n        <h2>\n          Your Report\n        </h2>\n        <Paper className={classes.root}>\n        <TableContainer  className={classes.container}>\n                <Table className = {classes.table} size =\"small\" stickyHeader aria-label=\"sticky table\">\n                    <TableHead>\n                        <TableRow>\n                          <StyledTablecell> #</StyledTablecell>\n                            <StyledTablecell>\n                                Doctor name\n                            </StyledTablecell>\n                            <StyledTablecell>Reason to visit doctor </StyledTablecell>\n                            <StyledTablecell>VisitedDate</StyledTablecell>\n                            <StyledTablecell>Records</StyledTablecell>\n                        </TableRow>\n                    </TableHead>\n                    {props.records.map((record,key)=>( \n\n                    <TableBody>\n\n                        <StyledTableRow key ={key}>\n                          <TableCell>{key}</TableCell>\n                        <TableCell>{record.dname}</TableCell>\n                        <TableCell>{record.reason}</TableCell>\n                        <TableCell>{record.visitedDate}</TableCell>\n                        <TableCell><a href={`https://ipfs.io/ipfs/${record.ipfs}`} target=\"_blank\"> click here to view your record</a></TableCell>\n                        </StyledTableRow>\n                    </TableBody>))}\n                </Table>\n            </TableContainer>\n            </Paper>\n      </div>\n    )\n  }\n  const Access=()=>{\nreturn(\n  <div className=\"small card\">\n    <h2>Grant/Revoke Access</h2>\n    \n\n            <form onSubmit ={(event)=>{\n                event.preventDefault();\n                const doctor = doctorRef.current.value;\n                props.grantAccess(doctor);\n            }}>\n                <label>Provide Access: </label>\n                <input type=\"text\" placeholder=\" Address to grant access\"\n                ref ={doctorRef}/> \n                <Button> Submit</Button>\n                </form>\n\n                <br/>\n                <form onSubmit ={(event)=>{\n                    event.preventDefault();\n                    const doctor = doctorRef.current.value;\n                    props.revokeAccess(doctor);\n                }}>\n                    <label> Revoke Access: </label>\n                    <input type=\"text\" placeholder=\" Address to revoke access from\"\n                    ref={doctorRef}/>\n                <Button> Submit</Button>\n                </form>\n              \n\n  </div>\n)\n  }\n    return(\n        \n        <div className=\"patient_main\">\n\n            <Navbar\n            // bg=\"light\" \n            color=\"purple\"\n            expand=\"lg\" \n            >\n              <img src={logo}\n              // width=\"250\"\n              // height=\"60\"\n              className=\"d-inline-block align-top\"\n              />\n            {/* patient */}\n            <Navbar.Toggle/>\n            <Navbar.Collapse className=\"justify-content-end\">\n              <Navbar.Text > <b>Welcome </b> </Navbar.Text>\n              <Nav.Link href =\"/\" width=\"250\" color=\"black\"> <b>Logout</b></Nav.Link>\n              </Navbar.Collapse>\n              </Navbar>\n\n            <div className =\"tab-wrapper\">\n            <Tab.Container  defaultActiveKey=\"details\">\n                    <div className =\"row\">\n                        <div className=\"col-sm-3\">\n                          <Nav  className=\"flex-column\">\n                            <Nav.Item>\n                            <Nav.Link eventKey=\"details\">Details</Nav.Link><hr/>\n                            </Nav.Item>\n                            <Nav.Item>\n                            <Nav.Link eventKey=\"profile\">AccessRecord</Nav.Link> <hr/></Nav.Item>                           \n                            <Nav.Item><Nav.Link eventKey=\"uploadRecord\">UploadRecord</Nav.Link><hr/></Nav.Item>\n                            <Nav.Item><Nav.Link eventKey=\"access\">Grant/Revoke Acccess</Nav.Link><hr/>\n                            </Nav.Item>\n\n                            </Nav> \n                          </div>\n\n                          <div className = \"col-sm-9\">\n                          <h1> Welcome to Medossier</h1>\n\n                            <Tab.Content>\n                {/* <Tabs defaultActiveKey=\"details\" id =\"uncontrolled-tab-example\"> */}\n                <Tab.Pane eventKey=\"details\" title =\"Details\" >\n                <Details/>\n                </Tab.Pane>\n                <Tab.Pane eventKey=\"profile\" title =\"AcessRecord\" >\n                  <Report/>\n                </Tab.Pane>\n\n                <Tab.Pane eventKey =\"uploadRecord\"  title=\"UploadRecord\">\n              <Upload/>\n             </Tab.Pane>\n             <Tab.Pane eventKey=\"access\" title=\"Grant/Revoke Acccess\">\n               <Access/>\n             </Tab.Pane>\n             {/* </Tabs> */}\n             </Tab.Content>\n            </div> \n </div>\n</Tab.Container>\n  </div>\n \n</div>\n)}\nexport default Patient;"]},"metadata":{},"sourceType":"module"}