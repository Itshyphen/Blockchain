{"ast":null,"code":"var _jsxFileName = \"/home/ranju/location/meDossier/frontend/src/pages/patients_dashboard.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { Tabs, Tab, Row, Nav, Navbar, Card, Button } from \"react-bootstrap\";\nimport { withStyles, makeStyles } from '@material-ui/core/styles';\nimport { Table, TableBody, TableCell, TableContainer, TableHead, TableRow } from \"@material-ui/core\";\nimport Paper from '@material-ui/core/Paper';\nimport ipfs from \"../ipfs\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport logo from \"./logo.png\";\nimport './general.css';\nimport './patient.css';\nimport history from './history';\nimport Web3 from \"web3\";\nimport { CONTRACT_ADDRESS, ABI } from \"../config.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Patient(props) {\n  _s();\n\n  const dnameRef = useRef();\n  const reasonRef = useRef();\n  const dateRef = useRef();\n  const addressRef = useRef();\n  const [ipfshash, setIpfshash] = useState();\n  const [buffer, setBuffer] = useState();\n  const [records, setRecords] = useState([]);\n  console.log(props.records);\n  console.log(props.patient); // const[records,setRecords] =useState([]);\n\n  const doctorRef = useRef();\n  const grantRef = useRef();\n  const name = localStorage.getItem('name');\n  const dob = localStorage.getItem('dob');\n  const gender = localStorage.getItem('gender');\n  const bloodgroup = localStorage.getItem('bloodgroup');\n  const phone = localStorage.getItem('phone');\n  const currentAccount = localStorage.getItem('currentAccount');\n  const isDoctor = localStorage.getItem('isdoctor');\n  const isAdmin = localStorage.getItem('isUser');\n  const ispatient = localStorage.getItem('ispatient');\n  const web3 = new Web3(Web3.givenProvider);\n  const contract = new web3.eth.Contract(ABI, CONTRACT_ADDRESS);\n  const useStyles = makeStyles({\n    table: {\n      minWidth: 700\n    },\n    root: {\n      width: \"100%\"\n    },\n    container: {\n      maxHeight: 440\n    }\n  });\n  const classes = useStyles();\n  const StyledTablecell = withStyles(theme => ({\n    head: {\n      backgroundColor: theme.palette.info.main,\n      color: theme.palette.common.blue\n    },\n    body: {\n      fontSIze: 14\n    }\n  }))(TableCell);\n  const StyledTableRow = withStyles(theme => ({\n    root: {\n      \"&:nth-of-type(odd)\": {\n        backgroundColor: theme.palette.action.hover,\n        color: theme.palette.common.pink\n      }\n    }\n  }))(TableRow);\n  useEffect(() => {\n    getPatientRecord();\n  }, []);\n\n  const uploadrecord = async (dname, reason, date) => {\n    try {\n      console.log(\"hh\");\n      console.log(dname, reason, date);\n      console.log(currentAccount);\n      console.log(contract);\n      const res = await contract.methods.addRecord(dname, reason, date, ipfshash, props.currentAccount).send({\n        from: props.currentAccount\n      });\n      console.log(res);\n      getPatientRecord();\n    } catch (error) {\n      alert(error);\n    }\n  }; //Get Patient details by patient\n\n\n  const getPatientRecord = async () => {\n    try {\n      const recordlength = await contract.methods.getrecordlist(currentAccount).call({\n        from: currentAccount\n      });\n      const recordlist = [];\n\n      for (let i = 0; i < recordlength; i++) {\n        const record = await contract.methods.getPatientRecords(currentAccount, i).call({\n          from: currentAccount\n        });\n        console.log(record);\n        recordlist.push(record);\n      }\n\n      setRecords(recordlist); // localStorage.setItem('dname',records.dname);\n      // localStorage.setItem('reason',records.reason)\n      // localStorage.setItem('visitDate',records.visitDate)\n      // localStorage.setItem('ipfs',records.ipfs)\n      // console.log(records)\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const Details = () => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Details\",\n      children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n        children: \"Medical Records are important for you and we care about them and store them securely! Get your records anywhere with just a touch!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Your Details\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 27\n        }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 27\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"b\", {\n            children: [\"Account Address:\", /*#__PURE__*/_jsxDEV(\"span\", {\n              children: currentAccount\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 134,\n              columnNumber: 47\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 27\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"details\",\n          children: [/*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"Name :                            \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 1\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"Phone \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 29\n          }, this), \":\", /*#__PURE__*/_jsxDEV(\"span\", {\n            children: phone\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 42\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"Gender \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 29\n          }, this), \":\", /*#__PURE__*/_jsxDEV(\"span\", {\n            children: gender\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 43\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"Date of Birth \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 29\n          }, this), \":\", /*#__PURE__*/_jsxDEV(\"span\", {\n            children: dob\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 50\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"Blood Group \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 29\n          }, this), \":\", /*#__PURE__*/_jsxDEV(\"span\", {\n            children: bloodgroup\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 48\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 27\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 11\n    }, this);\n  };\n\n  const handlechange = async event => {\n    event.preventDefault(); //capture the userfile \n\n    const file = event.target.files[0]; //Read the file\n\n    let reader = new window.FileReader();\n    reader.readAsArrayBuffer(file); //file is converted to a buffer to prepare for uploading to IPFS\n\n    reader.onloadend = () => {\n      let buffer = Buffer(reader.result);\n      setBuffer(buffer);\n      console.log(\"buffer\", buffer);\n    };\n  };\n\n  const onsubmit = async event => {\n    event.preventDefault();\n    console.log(\"hh\");\n    const ipfsHash = await ipfs.add(buffer);\n    console.log(ipfsHash);\n    console.log(ipfsHash[0].hash);\n    setIpfshash(ipfsHash[0].hash);\n  };\n\n  const Upload = () => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"ReportUpload\",\n      children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n        children: \" !!!Upload your records to the meDossier for the highest level of security!!!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(Card, {\n        className: \"small card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"upload\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \" Upload your report to IPFS\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: onsubmit,\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"file\",\n              onChange: handlechange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 198,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 201,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              onClick: onsubmit,\n              children: \"Submit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 202,\n              columnNumber: 10\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 5\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \" Upload your record to blockchain  \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 10\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 60\n          }, this), \"Name:\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Name of the doctor\",\n            ref: dnameRef\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 16\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 26\n          }, this), \"Reason: \", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Reason to visit hospital\",\n            ref: reasonRef\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 18\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 11\n          }, this), \"VisitedDate: \", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"date\",\n            ref: dateRef\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 23\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 14\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 222,\n            columnNumber: 10\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            onClick: event => {\n              event.preventDefault();\n              const dname = dnameRef.current.value;\n              const reason = reasonRef.current.value;\n              const date = dateRef.current.value; //  const address = reasonRef.current.value\n\n              uploadrecord(dname, reason, date);\n            },\n            children: \"Submit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 10\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 10\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 13\n    }, this);\n  };\n\n  const Report = () => {\n    if (records.length === 0) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Your Report\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \" Your record will appear here.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \" loading........\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 10\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 9\n      }, this);\n    }\n\n    if (!currentAccount) {\n      history.push('/');\n    }\n\n    if (isDoctor == \"true\") {\n      history.push('/patient');\n    }\n\n    if (isAdmin == \"true\") {\n      history.push('/Registration_office');\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Report\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Your Report\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Paper, {\n        className: classes.root,\n        children: /*#__PURE__*/_jsxDEV(TableContainer, {\n          className: classes.container,\n          children: /*#__PURE__*/_jsxDEV(Table, {\n            className: classes.table,\n            size: \"small\",\n            stickyHeader: true,\n            \"aria-label\": \"sticky table\",\n            children: [/*#__PURE__*/_jsxDEV(TableHead, {\n              children: /*#__PURE__*/_jsxDEV(TableRow, {\n                children: [/*#__PURE__*/_jsxDEV(StyledTablecell, {\n                  children: \" #\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 273,\n                  columnNumber: 27\n                }, this), /*#__PURE__*/_jsxDEV(StyledTablecell, {\n                  children: \"Doctor name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 274,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(StyledTablecell, {\n                  children: \"Reason to visit doctor \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 277,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(StyledTablecell, {\n                  children: \"VisitedDate\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 278,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(StyledTablecell, {\n                  children: \"Records\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 279,\n                  columnNumber: 29\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 272,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 271,\n              columnNumber: 21\n            }, this), records.map((record, key) => /*#__PURE__*/_jsxDEV(TableBody, {\n              children: /*#__PURE__*/_jsxDEV(StyledTableRow, {\n                children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                  children: key\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 288,\n                  columnNumber: 27\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  children: record.dname\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 289,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  children: record.reason\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 290,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  children: record.visitedDate\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 291,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  children: /*#__PURE__*/_jsxDEV(\"a\", {\n                    href: `https://ipfs.io/ipfs/${record.ipfs}`,\n                    target: \"_blank\",\n                    children: \" click here to view your record\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 292,\n                    columnNumber: 36\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 292,\n                  columnNumber: 25\n                }, this)]\n              }, key, true, {\n                fileName: _jsxFileName,\n                lineNumber: 287,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 285,\n              columnNumber: 21\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 7\n    }, this);\n  };\n\n  const Access = () => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"small card\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Grant/Revoke Access\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Provide Access: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \" Address to grant access\",\n          ref: grantRef\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 310,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: event => {\n            event.preventDefault();\n            const doctor = grantRef.current.value;\n            console.log(doctor);\n            props.grantAccess(doctor);\n          },\n          children: \" Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 312,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 308,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 320,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \" Revoke Access: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 322,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \" Address to revoke access from\",\n          ref: doctorRef\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 323,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: event => {\n            event.preventDefault();\n            const doctor = doctorRef.current.value;\n            console.log(doctor);\n            props.revokeAccess(doctor);\n          },\n          children: \" Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 325,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 304,\n      columnNumber: 7\n    }, this);\n  };\n\n  if (!currentAccount) {\n    history.push('/');\n  }\n\n  if (isDoctor == \"true\") {\n    history.push('/doctor_dashboard');\n  }\n\n  if (isAdmin == \"true\") {\n    history.push('/Registration_office');\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"patient_main\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"nav_main\",\n      children: /*#__PURE__*/_jsxDEV(Navbar, {\n        expand: \"lg\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: logo,\n          className: \"d-inline-block align-top\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 354,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Navbar.Toggle, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 359,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Navbar.Collapse, {\n          className: \"justify-content-end\",\n          children: [/*#__PURE__*/_jsxDEV(Nav.Link, {\n            a: true,\n            href: \"/patient\",\n            children: [\" \", /*#__PURE__*/_jsxDEV(\"i\", {\n              class: \"fas fa-1x fa-user-circle\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 361,\n              columnNumber: 45\n            }, this), \" \", name, \"  \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 361,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            onClick: e => props.logout(),\n            children: [\" \", /*#__PURE__*/_jsxDEV(\"i\", {\n              class: \"fas fa-1x fa-sign-out-alt\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 362,\n              columnNumber: 52\n            }, this), \" Log out\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 362,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 360,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 351,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 349,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"tab-wrapper\",\n      children: /*#__PURE__*/_jsxDEV(Tab.Container, {\n        defaultActiveKey: \"details\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-sm-3\",\n            children: /*#__PURE__*/_jsxDEV(Nav, {\n              variant: \"pills\",\n              className: \"flex-column\",\n              children: [/*#__PURE__*/_jsxDEV(Nav.Item, {\n                children: [/*#__PURE__*/_jsxDEV(Nav.Link, {\n                  eventKey: \"details\",\n                  children: /*#__PURE__*/_jsxDEV(\"b\", {\n                    children: \"Details\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 374,\n                    columnNumber: 58\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 374,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 374,\n                  columnNumber: 83\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 373,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(Nav.Item, {\n                children: [/*#__PURE__*/_jsxDEV(Nav.Link, {\n                  eventKey: \"profile\",\n                  children: /*#__PURE__*/_jsxDEV(\"b\", {\n                    children: \"AccessRecord\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 377,\n                    columnNumber: 58\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 377,\n                  columnNumber: 29\n                }, this), \" \", /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 377,\n                  columnNumber: 89\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 376,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(Nav.Item, {\n                children: [/*#__PURE__*/_jsxDEV(Nav.Link, {\n                  eventKey: \"uploadRecord\",\n                  children: [\" \", /*#__PURE__*/_jsxDEV(\"b\", {\n                    children: \"UploadRecord\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 378,\n                    columnNumber: 74\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 378,\n                  columnNumber: 39\n                }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 378,\n                  columnNumber: 104\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 378,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(Nav.Item, {\n                children: [/*#__PURE__*/_jsxDEV(Nav.Link, {\n                  eventKey: \"access\",\n                  children: /*#__PURE__*/_jsxDEV(\"b\", {\n                    children: \"Grant/Revoke Acccess\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 379,\n                    columnNumber: 67\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 379,\n                  columnNumber: 39\n                }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 379,\n                  columnNumber: 105\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 379,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 372,\n              columnNumber: 27\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 371,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-sm-9\",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              children: \" Welcome to MeDossier\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 386,\n              columnNumber: 27\n            }, this), /*#__PURE__*/_jsxDEV(Tab.Content, {\n              children: [/*#__PURE__*/_jsxDEV(Tab.Pane, {\n                eventKey: \"details\",\n                title: \"Details\",\n                children: /*#__PURE__*/_jsxDEV(Details, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 390,\n                  columnNumber: 17\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 389,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Tab.Pane, {\n                eventKey: \"profile\",\n                title: \"AcessRecord\",\n                children: /*#__PURE__*/_jsxDEV(Report, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 393,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 392,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Tab.Pane, {\n                eventKey: \"uploadRecord\",\n                title: \"UploadRecord\",\n                children: /*#__PURE__*/_jsxDEV(Upload, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 397,\n                  columnNumber: 16\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 396,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Tab.Pane, {\n                eventKey: \"access\",\n                title: \"Grant/Revoke Acccess\",\n                children: /*#__PURE__*/_jsxDEV(Access, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 400,\n                  columnNumber: 16\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 399,\n                columnNumber: 14\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 388,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 385,\n            columnNumber: 27\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 370,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 369,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 368,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 348,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Patient, \"VoRRDvN9H8l6y1Np+nfy3oq+7oQ=\", false, function () {\n  return [useStyles];\n});\n\n_c = Patient;\nexport default Patient;\n\nvar _c;\n\n$RefreshReg$(_c, \"Patient\");","map":{"version":3,"sources":["/home/ranju/location/meDossier/frontend/src/pages/patients_dashboard.js"],"names":["React","useEffect","useRef","useState","Tabs","Tab","Row","Nav","Navbar","Card","Button","withStyles","makeStyles","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","ipfs","logo","history","Web3","CONTRACT_ADDRESS","ABI","Patient","props","dnameRef","reasonRef","dateRef","addressRef","ipfshash","setIpfshash","buffer","setBuffer","records","setRecords","console","log","patient","doctorRef","grantRef","name","localStorage","getItem","dob","gender","bloodgroup","phone","currentAccount","isDoctor","isAdmin","ispatient","web3","givenProvider","contract","eth","Contract","useStyles","table","minWidth","root","width","container","maxHeight","classes","StyledTablecell","theme","head","backgroundColor","palette","info","main","color","common","blue","body","fontSIze","StyledTableRow","action","hover","pink","getPatientRecord","uploadrecord","dname","reason","date","res","methods","addRecord","send","from","error","alert","recordlength","getrecordlist","call","recordlist","i","record","getPatientRecords","push","Details","handlechange","event","preventDefault","file","target","files","reader","window","FileReader","readAsArrayBuffer","onloadend","Buffer","result","onsubmit","ipfsHash","add","hash","Upload","current","value","Report","length","map","key","visitedDate","Access","doctor","grantAccess","revokeAccess","e","logout"],"mappings":"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","sourcesContent":["import React, { useEffect, useRef, useState } from  \"react\";\nimport {Tabs, Tab, Row, Nav, Navbar,Card,Button} from \"react-bootstrap\";\nimport {withStyles,makeStyles} from '@material-ui/core/styles';\nimport {Table, TableBody,TableCell,TableContainer,TableHead,TableRow}from \"@material-ui/core\";\nimport Paper from '@material-ui/core/Paper';\nimport ipfs from \"../ipfs\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport logo from \"./logo.png\"\nimport './general.css';\nimport './patient.css'\nimport history from './history';\nimport Web3 from \"web3\";\nimport { CONTRACT_ADDRESS, ABI } from \"../config.js\";\n\n\nfunction Patient(props){\n   const dnameRef = useRef();\n   const reasonRef = useRef();\n   const dateRef = useRef();\n   const addressRef = useRef();\n   const [ipfshash, setIpfshash] =useState();\n   const[buffer,setBuffer] = useState();\n   const[records,setRecords] = useState([]);\n\n  console.log(props.records);\n  console.log(props.patient);\n  // const[records,setRecords] =useState([]);\n    const doctorRef = useRef();\n    const grantRef = useRef();\n\n    const name = localStorage.getItem('name')\n    const dob = localStorage.getItem('dob')\n    const gender = localStorage.getItem('gender')\n    const bloodgroup = localStorage.getItem('bloodgroup')\n    const phone = localStorage.getItem('phone')\n    const currentAccount =localStorage.getItem('currentAccount')\n    const isDoctor = localStorage.getItem('isdoctor')\n    const isAdmin = localStorage.getItem('isUser')\n    const ispatient = localStorage.getItem('ispatient')\n\n  \n    const web3 = new Web3(Web3.givenProvider)\n    const contract =  new web3.eth.Contract(ABI, CONTRACT_ADDRESS);\n\n  const useStyles = makeStyles({\n    table:{\n      minWidth:700,\n    },\n    root:{\n      width:\"100%\"\n\n    },\n    container:{\n      maxHeight:440,\n    }\n  });\n  const classes = useStyles();\n    const StyledTablecell = withStyles((theme)=>({\n      head:{\n          backgroundColor:theme.palette.info.main,\n          color : theme.palette.common.blue,\n      },\n      body:{\n          fontSIze:14,\n      },\n   })) (TableCell);\n\n   const StyledTableRow = withStyles((theme)=>({\n       root:{\n           \"&:nth-of-type(odd)\":{\n               backgroundColor: theme.palette.action.hover,\n               color: theme.palette.common.pink,\n           },\n       },\n   }))(TableRow)\n\n   useEffect(()=>{\n    getPatientRecord();\n}, [])\n\n    const uploadrecord= async(dname,reason,date)=>{\n      try{\n        console.log(\"hh\")\n        console.log(dname,reason,date);\n        console.log(currentAccount);\n        console.log(contract);\n         const res = await contract.methods.addRecord(dname,reason,date,ipfshash,props.currentAccount).send({from:props.currentAccount});\n        console.log(res);\n         getPatientRecord();\n\n      }catch(error){\n        alert(error)\n\n      }\n    }\n\n    //Get Patient details by patient\n  const getPatientRecord = async()=>{\n    try{\n      const recordlength =  await contract.methods.getrecordlist(currentAccount).call({from:currentAccount});\n      const recordlist =[];\n      for (let i =0 ;i< recordlength; i++){\n        const record = await  contract.methods.getPatientRecords(currentAccount,i).call({from:currentAccount});\n        console.log(record);\n\n        recordlist.push(record);\n      }\n      setRecords(recordlist);\n      // localStorage.setItem('dname',records.dname);\n      // localStorage.setItem('reason',records.reason)\n      // localStorage.setItem('visitDate',records.visitDate)\n      // localStorage.setItem('ipfs',records.ipfs)\n\n            // console.log(records)\n\n    }\n    catch(error){\n     console.log(error);\n    }\n  }\n\n    const Details = ()=>{\n        return(\n          <div className=\"Details\">\n            <h5>\n            Medical Records are important for you and we care about them and store them securely! Get your records anywhere with just a touch!\n\n            </h5>\n            <div className=\"card\">\n                          <h3>Your Details</h3>\n                          <hr></hr>\n                          <div>\n                            <b>\n                              Account Address:<span>{currentAccount}</span>\n                            </b>\n                          </div>\n                          <div className=\"details\">\n                            <b>\n                              Name :                            </b>\n<span>{name}</span>\n                            <br></br>\n                            <b>\n                              Phone </b>:<span>{phone}</span>\n                            \n                            <br></br>\n                            <b>\n                              Gender </b>:<span>{gender}</span>\n                            {/* </b> */}\n                            <br />\n                            <b>\n                              Date of Birth </b>:<span>{dob}</span>\n                            {/* </b> */}\n                            <br></br>\n                            <b>\n                              Blood Group </b>:<span>{bloodgroup}</span>\n                            {/* </b> */}\n                          </div>\n                        </div>\n            </div>\n\n        )\n    }\nconst handlechange = async(event)=>{\n  event.preventDefault();\n            //capture the userfile \n            const file = event.target.files[0];\n            //Read the file\n            let reader = new window.FileReader()\n            reader.readAsArrayBuffer(file)\n            //file is converted to a buffer to prepare for uploading to IPFS\n            reader.onloadend=()=>{\n                let buffer = Buffer(reader.result)\n                setBuffer(buffer);\n                console.log(\"buffer\",buffer);\n            }\n\n}\nconst onsubmit = async(event)=>{\n  event.preventDefault();\n  console.log(\"hh\");\n  const ipfsHash = await ipfs.add(buffer);\n  console.log(ipfsHash);\n        console.log(ipfsHash[0].hash)\n        setIpfshash(ipfsHash[0].hash);\n\n}\n\n    const Upload =()=>{\n        return(\n            <div className=\"ReportUpload\">\n              <h5> !!!Upload your records to the meDossier for the highest level of security!!!</h5>\n              <Card className=\"small card\">\n\n              <div className=\"upload\">\n                <label> Upload your report to IPFS</label>\n    <form onSubmit={onsubmit}>\n      \n        <input type= \"file\"  onChange ={handlechange}\n       \n        />\n        <br/>\n         <Button onClick={onsubmit}>Submit</Button>\n         </form>\n         </div>\n\n         {/* Upload file to blockchain */}\n         <form>\n         <label> Upload your record to blockchain  </label><br/>\n          Name:<input \n         type =\"text\"placeholder=\"Name of the doctor\" \n         ref={dnameRef}/><br/>\n\n         Reason: <input \n         type=\"text\" placeholder=\"Reason to visit hospital\"\n         ref ={reasonRef}\n         />\n          <br/>\n         VisitedDate: <input type=\"date\" \n         ref ={dateRef}/>\n             <br/>\n         \n         <br/>\n         {/* <input type =\"submit\"/> */}\n         <Button onClick={(event)=>{\n           event.preventDefault();\n\n           const dname = dnameRef.current.value;\n           const reason = reasonRef.current.value;\n           const date = dateRef.current.value;\n          //  const address = reasonRef.current.value\n\n           uploadrecord(dname,reason,date);\n         }}>Submit</Button>\n         </form>\n         </Card>\n         </div>\n        )\n    }\n\n  const Report =()=>{\n    \n    if(records.length  === 0){\n      return(\n        <div> \n          <h2>\n          Your Report\n        </h2>\n        <p> Your record will appear here.</p>\n         <p> loading........</p>\n        </div>\n      )\n    }\n    if(!currentAccount){\n      history.push('/')\n    }\n    if(isDoctor==\"true\"){\n      history.push('/patient')\n    }\n    if(isAdmin==\"true\"){\n      history.push('/Registration_office')\n    }\n    \n    return(\n      <div className=\"Report\">\n        <h2>\n          Your Report\n        </h2>\n        <Paper className={classes.root}>\n        <TableContainer  className={classes.container}>\n                <Table className = {classes.table} size =\"small\" stickyHeader aria-label=\"sticky table\">\n                    <TableHead>\n                        <TableRow>\n                          <StyledTablecell> #</StyledTablecell>\n                            <StyledTablecell>\n                                Doctor name\n                            </StyledTablecell>\n                            <StyledTablecell>Reason to visit doctor </StyledTablecell>\n                            <StyledTablecell>VisitedDate</StyledTablecell>\n                            <StyledTablecell>Records</StyledTablecell>\n                        </TableRow>\n                    </TableHead>\n                    \n                    {records.map((record,key)=>( \n\n                    <TableBody>\n\n                        <StyledTableRow key ={key}>\n                          <TableCell>{key}</TableCell>\n                        <TableCell>{record.dname}</TableCell>\n                        <TableCell>{record.reason}</TableCell>\n                        <TableCell>{record.visitedDate}</TableCell>\n                        <TableCell><a href={`https://ipfs.io/ipfs/${record.ipfs}`} target=\"_blank\"> click here to view your record</a></TableCell>\n                        </StyledTableRow>\n                    </TableBody>))}\n                </Table>\n            </TableContainer>\n            </Paper>\n      </div>\n    )\n  }\n\n  const Access=()=>{\n    return(\n      <div className=\"small card\">\n        <h3>Grant/Revoke Access</h3>\n        <hr/>\n    \n                <form >\n                    <label>Provide Access: </label>\n                    <input type=\"text\" placeholder=\" Address to grant access\"\n                    ref ={grantRef}/> \n                    <Button onClick ={(event)=>{\n                      event.preventDefault();\n                      const doctor = grantRef.current.value;\n                      console.log(doctor)\n                      props.grantAccess(doctor);\n                  }}> Submit</Button>\n                    </form>\n    \n                    <br/>\n                    <form >\n                        <label> Revoke Access: </label>\n                        <input type=\"text\" placeholder=\" Address to revoke access from\"\n                        ref={doctorRef}/>\n                    <Button onClick  ={(event)=>{\n                        event.preventDefault();\n                        const doctor = doctorRef.current.value;\n                        console.log(doctor);\n                        props.revokeAccess(doctor);\n                    }}> Submit</Button>\n                    </form>\n                  \n    \n      </div>\n)\n  }\n  if(!currentAccount){\n    history.push('/')\n  }\n  if(isDoctor == \"true\"){\n    history.push('/doctor_dashboard')\n  }\n  if(isAdmin == \"true\"){\n    history.push('/Registration_office')\n  }\n    return(\n        \n        <div className=\"patient_main\">\n            <div className=\"nav_main\">\n\n            <Navbar\n            expand=\"lg\" \n            >\n              <img src={logo}\n              \n              className=\"d-inline-block align-top\"\n              />\n            {/* patient */}\n            <Navbar.Toggle/>\n            <Navbar.Collapse className=\"justify-content-end\">\n              <Nav.Link a href=\"/patient\" > <i class=\"fas fa-1x fa-user-circle\"></i> {name}  </Nav.Link>\n              <Button onClick={e=>props.logout()}> <i class=\"fas fa-1x fa-sign-out-alt\"></i> Log out</Button>\n              </Navbar.Collapse>\n              </Navbar>\n              </div>\n\n\n            <div className =\"tab-wrapper\">\n            <Tab.Container  defaultActiveKey=\"details\">\n                    <div className =\"row\">\n                        <div className=\"col-sm-3\">\n                          <Nav variant=\"pills\" className=\"flex-column\">\n                            <Nav.Item>\n                            <Nav.Link eventKey=\"details\"><b>Details</b></Nav.Link><hr/>\n                            </Nav.Item>\n                            <Nav.Item>\n                            <Nav.Link eventKey=\"profile\"><b>AccessRecord</b></Nav.Link> <hr/></Nav.Item>                           \n                            <Nav.Item><Nav.Link eventKey=\"uploadRecord\"> <b>UploadRecord</b></Nav.Link><hr/></Nav.Item>\n                            <Nav.Item><Nav.Link eventKey=\"access\"><b>Grant/Revoke Acccess</b></Nav.Link><hr/>\n                            </Nav.Item>\n\n                            </Nav> \n                          </div>\n\n                          <div className = \"col-sm-9\">\n                          <h1> Welcome to MeDossier</h1>\n\n                            <Tab.Content>\n                <Tab.Pane eventKey=\"details\" title =\"Details\" >\n                <Details/>\n                </Tab.Pane>\n                <Tab.Pane eventKey=\"profile\" title =\"AcessRecord\" >\n                  <Report/>\n                </Tab.Pane>\n\n                <Tab.Pane eventKey =\"uploadRecord\"  title=\"UploadRecord\">\n               <Upload/>\n             </Tab.Pane>\n             <Tab.Pane eventKey=\"access\" title=\"Grant/Revoke Acccess\">\n               <Access/>\n             </Tab.Pane>\n             {/* </Tabs> */}\n             </Tab.Content>\n            </div> \n </div>\n</Tab.Container>\n  </div>\n \n</div>\n)}\n\nexport default Patient;"]},"metadata":{},"sourceType":"module"}