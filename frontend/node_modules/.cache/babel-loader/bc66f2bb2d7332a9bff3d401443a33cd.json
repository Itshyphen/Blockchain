{"ast":null,"code":"var _jsxFileName = \"/home/ranju/location/meDossier/frontend/src/pages/patients_dashboard.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { Tabs, Tab, Row, Nav, Navbar, Card, Button } from \"react-bootstrap\";\nimport { withStyles, makeStyles } from '@material-ui/core/styles';\nimport { Table, TableBody, TableCell, TableContainer, TableHead, TableRow } from \"@material-ui/core\";\nimport Paper from '@material-ui/core/Paper'; // import { Button } from \"react-bootstrap\";\n\nimport ipfs from \"../ipfs\"; // import 'bootstrap/dist/css/bootstrap.min.css';\n\nimport logo from \"./logo.png\";\nimport './general.css';\nimport './patient.css';\nimport history from './history';\nimport Web3 from \"web3\";\nimport { CONTRACT_ADDRESS, ABI } from \"../config.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Patient(props) {\n  _s();\n\n  const dnameRef = useRef();\n  const reasonRef = useRef();\n  const dateRef = useRef();\n  const addressRef = useRef();\n  const [ipfshash, setIpfshash] = useState();\n  const [buffer, setBuffer] = useState();\n  const [records, setRecords] = useState([]);\n  console.log(props.records);\n  console.log(props.patient); // const[records,setRecords] =useState([]);\n\n  const doctorRef = useRef();\n  const grantRef = useRef();\n  const name = localStorage.getItem('name');\n  const dob = localStorage.getItem('dob');\n  const gender = localStorage.getItem('gender');\n  const bloodgroup = localStorage.getItem('bloodgroup');\n  const phone = localStorage.getItem('phone');\n  const currentAccount = localStorage.getItem('currentAccount');\n  const isDoctor = localStorage.getItem('isdoctor');\n  const isUser = localStorage.getItem('isUser'); //  console.log(ispatient)\n\n  const web3 = new Web3(Web3.givenProvider);\n  const contract = new web3.eth.Contract(ABI, CONTRACT_ADDRESS);\n  const useStyles = makeStyles({\n    table: {\n      minWidth: 700\n    },\n    root: {\n      width: \"100%\"\n    },\n    container: {\n      maxHeight: 440\n    }\n  });\n  const classes = useStyles();\n  const StyledTablecell = withStyles(theme => ({\n    head: {\n      backgroundColor: theme.palette.info.main,\n      color: theme.palette.common.blue\n    },\n    body: {\n      fontSIze: 14\n    }\n  }))(TableCell);\n  const StyledTableRow = withStyles(theme => ({\n    root: {\n      \"&:nth-of-type(odd)\": {\n        backgroundColor: theme.palette.action.hover,\n        color: theme.palette.common.pink\n      }\n    }\n  }))(TableRow);\n  useEffect(() => {\n    getPatientRecord();\n  }, []);\n\n  const uploadrecord = async (dname, reason, date) => {\n    try {\n      console.log(\"hh\");\n      console.log(dname, reason, date);\n      console.log(currentAccount);\n      console.log(contract);\n      const res = await contract.methods.addRecord(dname, reason, date, ipfshash, props.currentAccount).send({\n        from: props.currentAccount\n      });\n      console.log(res);\n      getPatientRecord();\n    } catch (error) {\n      alert(error);\n    }\n  }; //Get Patient details by patient\n\n\n  const getPatientRecord = async () => {\n    try {\n      const recordlength = await contract.methods.getrecordlist(currentAccount).call({\n        from: currentAccount\n      });\n      const recordlist = [];\n\n      for (let i = 0; i < recordlength; i++) {\n        const record = await contract.methods.getPatientRecords(currentAccount, i).call({\n          from: currentAccount\n        });\n        console.log(record);\n        recordlist.push(record);\n      }\n\n      setRecords(recordlist); // localStorage.setItem('dname',records.dname);\n      // localStorage.setItem('reason',records.reason)\n      // localStorage.setItem('visitDate',records.visitDate)\n      // localStorage.setItem('ipfs',records.ipfs)\n      // console.log(records)\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const Details = () => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Details\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"Medical Records are important for you and we care about them and store them securely! Get your records anywhere with just a touch!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Your Details\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 27\n        }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 27\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"b\", {\n            children: [\"Account Address:\", /*#__PURE__*/_jsxDEV(\"span\", {\n              children: currentAccount\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 47\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 27\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"details\",\n          children: [/*#__PURE__*/_jsxDEV(\"b\", {\n            children: [\"Name :\", /*#__PURE__*/_jsxDEV(\"span\", {\n              children: name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"b\", {\n            children: [\"Phone :\", /*#__PURE__*/_jsxDEV(\"span\", {\n              children: phone\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 38\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"b\", {\n            children: [\"Gender :\", /*#__PURE__*/_jsxDEV(\"span\", {\n              children: gender\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 39\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"b\", {\n            children: [\"Date of Birth :\", /*#__PURE__*/_jsxDEV(\"span\", {\n              children: dob\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 46\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"b\", {\n            children: [\"Blood Group :\", /*#__PURE__*/_jsxDEV(\"span\", {\n              children: bloodgroup\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 44\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 27\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 11\n    }, this);\n  };\n\n  const handlechange = async event => {\n    event.preventDefault(); //capture the userfile \n\n    const file = event.target.files[0]; //Read the file\n\n    let reader = new window.FileReader();\n    reader.readAsArrayBuffer(file); //file is converted to a buffer to prepare for uploading to IPFS\n\n    reader.onloadend = () => {\n      let buffer = Buffer(reader.result);\n      setBuffer(buffer);\n      console.log(\"buffer\", buffer);\n    };\n  };\n\n  const onsubmit = async event => {\n    event.preventDefault();\n    console.log(\"hh\");\n    const ipfsHash = await ipfs.add(buffer);\n    console.log(ipfsHash);\n    console.log(ipfsHash[0].hash);\n    setIpfshash(ipfsHash[0].hash);\n  };\n\n  const Upload = () => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"ReportUpload\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \" !!!Upload your records to the meDossier for the highest level of security!!!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(Card, {\n        className: \"small card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"upload\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \" Upload your report to IPFS\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: onsubmit,\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"file\",\n              onChange: handlechange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 197,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 200,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              onClick: onsubmit,\n              children: \"Submit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 201,\n              columnNumber: 10\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 5\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \" Upload your record to blockchain  \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 10\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 60\n          }, this), \"Name:\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Name of the doctor\",\n            ref: dnameRef\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 16\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 26\n          }, this), \"Reason: \", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Reason to visit hospital\",\n            ref: reasonRef\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 18\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 11\n          }, this), \"VisitedDate: \", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"date\",\n            ref: dateRef\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 23\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 14\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 10\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            onClick: event => {\n              event.preventDefault();\n              const dname = dnameRef.current.value;\n              const reason = reasonRef.current.value;\n              const date = dateRef.current.value; //  const address = reasonRef.current.value\n\n              uploadrecord(dname, reason, date);\n            },\n            children: \"Submit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 10\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 10\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 13\n    }, this);\n  };\n\n  const Report = () => {\n    if (records.length === 0) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Your Report\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \" Your record will appear here.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \" loading........\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 10\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 9\n      }, this);\n    }\n\n    if (!currentAccount) {\n      history.push('/');\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Report\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Your Report\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Paper, {\n        className: classes.root,\n        children: /*#__PURE__*/_jsxDEV(TableContainer, {\n          className: classes.container,\n          children: /*#__PURE__*/_jsxDEV(Table, {\n            className: classes.table,\n            size: \"small\",\n            stickyHeader: true,\n            \"aria-label\": \"sticky table\",\n            children: [/*#__PURE__*/_jsxDEV(TableHead, {\n              children: /*#__PURE__*/_jsxDEV(TableRow, {\n                children: [/*#__PURE__*/_jsxDEV(StyledTablecell, {\n                  children: \" #\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 266,\n                  columnNumber: 27\n                }, this), /*#__PURE__*/_jsxDEV(StyledTablecell, {\n                  children: \"Doctor name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 267,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(StyledTablecell, {\n                  children: \"Reason to visit doctor \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 270,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(StyledTablecell, {\n                  children: \"VisitedDate\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 271,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(StyledTablecell, {\n                  children: \"Records\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 272,\n                  columnNumber: 29\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 265,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 264,\n              columnNumber: 21\n            }, this), records.map((record, key) => /*#__PURE__*/_jsxDEV(TableBody, {\n              children: /*#__PURE__*/_jsxDEV(StyledTableRow, {\n                children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                  children: key\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 281,\n                  columnNumber: 27\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  children: record.dname\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 282,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  children: record.reason\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 283,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  children: record.visitedDate\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 284,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  children: /*#__PURE__*/_jsxDEV(\"a\", {\n                    href: `https://ipfs.io/ipfs/${record.ipfs}`,\n                    target: \"_blank\",\n                    children: \" click here to view your record\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 285,\n                    columnNumber: 36\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 285,\n                  columnNumber: 25\n                }, this)]\n              }, key, true, {\n                fileName: _jsxFileName,\n                lineNumber: 280,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 278,\n              columnNumber: 21\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 7\n    }, this);\n  };\n\n  const Access = () => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"small card\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Grant/Revoke Access\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Provide Access: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 307,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \" Address to grant access\",\n          ref: grantRef\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 308,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: event => {\n            event.preventDefault();\n            const doctor = grantRef.current.value;\n            console.log(doctor);\n            props.grantAccess(doctor);\n          },\n          children: \" Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 310,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 318,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \" Revoke Access: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 326,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \" Address to revoke access from\",\n          ref: doctorRef\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 327,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: event => {\n            event.preventDefault();\n            const doctor = doctorRef.current.value;\n            console.log(doctor);\n            props.revokeAccess(doctor);\n          },\n          children: \" Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 329,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 319,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 7\n    }, this);\n  };\n\n  if (!currentAccount) {\n    history.push('/');\n  }\n\n  if (isDoctor == \"true\") {\n    history.push('/doctor_dashboard');\n  }\n\n  if (isAdmin == \"true\") {\n    history.push('/Registration_office');\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"patient_main\",\n    children: [/*#__PURE__*/_jsxDEV(Navbar // bg=\"light\" \n    , {\n      color: \"purple\",\n      expand: \"lg\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: logo // width=\"250\"\n        // height=\"60\"\n        ,\n        className: \"d-inline-block align-top\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 359,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(Navbar.Toggle, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 365,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Navbar.Collapse, {\n        className: \"justify-content-end\",\n        children: [/*#__PURE__*/_jsxDEV(Navbar.Text, {\n          children: [\" \", /*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"Welcome \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 367,\n            columnNumber: 30\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 367,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: e => props.logout(),\n          children: \"Log out\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 368,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 366,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 354,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"tab-wrapper\",\n      children: /*#__PURE__*/_jsxDEV(Tab.Container, {\n        defaultActiveKey: \"details\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-sm-3\",\n            children: /*#__PURE__*/_jsxDEV(Nav, {\n              className: \"flex-column\",\n              children: [/*#__PURE__*/_jsxDEV(Nav.Item, {\n                children: [/*#__PURE__*/_jsxDEV(Nav.Link, {\n                  eventKey: \"details\",\n                  children: \"Details\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 378,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 378,\n                  columnNumber: 76\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 377,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(Nav.Item, {\n                children: [/*#__PURE__*/_jsxDEV(Nav.Link, {\n                  eventKey: \"profile\",\n                  children: \"AccessRecord\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 381,\n                  columnNumber: 29\n                }, this), \" \", /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 381,\n                  columnNumber: 82\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 380,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(Nav.Item, {\n                children: [/*#__PURE__*/_jsxDEV(Nav.Link, {\n                  eventKey: \"uploadRecord\",\n                  children: \"UploadRecord\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 382,\n                  columnNumber: 39\n                }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 382,\n                  columnNumber: 96\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 382,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(Nav.Item, {\n                children: [/*#__PURE__*/_jsxDEV(Nav.Link, {\n                  eventKey: \"access\",\n                  children: \"Grant/Revoke Acccess\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 383,\n                  columnNumber: 39\n                }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 383,\n                  columnNumber: 98\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 383,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 376,\n              columnNumber: 27\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 375,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-sm-9\",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              children: \" Welcome to Medossier\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 390,\n              columnNumber: 27\n            }, this), /*#__PURE__*/_jsxDEV(Tab.Content, {\n              children: [/*#__PURE__*/_jsxDEV(Tab.Pane, {\n                eventKey: \"details\",\n                title: \"Details\",\n                children: /*#__PURE__*/_jsxDEV(Details, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 395,\n                  columnNumber: 17\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 394,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Tab.Pane, {\n                eventKey: \"profile\",\n                title: \"AcessRecord\",\n                children: /*#__PURE__*/_jsxDEV(Report, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 398,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 397,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Tab.Pane, {\n                eventKey: \"uploadRecord\",\n                title: \"UploadRecord\",\n                children: /*#__PURE__*/_jsxDEV(Upload, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 402,\n                  columnNumber: 15\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 401,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Tab.Pane, {\n                eventKey: \"access\",\n                title: \"Grant/Revoke Acccess\",\n                children: /*#__PURE__*/_jsxDEV(Access, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 405,\n                  columnNumber: 16\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 404,\n                columnNumber: 14\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 392,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 389,\n            columnNumber: 27\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 374,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 373,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 372,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 352,\n    columnNumber: 9\n  }, this);\n} // else {\n//   return(\n//   history.push('/')\n//     )\n//   }\n// }\n\n\n_s(Patient, \"VoRRDvN9H8l6y1Np+nfy3oq+7oQ=\", false, function () {\n  return [useStyles];\n});\n\n_c = Patient;\nexport default Patient;\n\nvar _c;\n\n$RefreshReg$(_c, \"Patient\");","map":{"version":3,"sources":["/home/ranju/location/meDossier/frontend/src/pages/patients_dashboard.js"],"names":["React","useEffect","useRef","useState","Tabs","Tab","Row","Nav","Navbar","Card","Button","withStyles","makeStyles","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","ipfs","logo","history","Web3","CONTRACT_ADDRESS","ABI","Patient","props","dnameRef","reasonRef","dateRef","addressRef","ipfshash","setIpfshash","buffer","setBuffer","records","setRecords","console","log","patient","doctorRef","grantRef","name","localStorage","getItem","dob","gender","bloodgroup","phone","currentAccount","isDoctor","isUser","web3","givenProvider","contract","eth","Contract","useStyles","table","minWidth","root","width","container","maxHeight","classes","StyledTablecell","theme","head","backgroundColor","palette","info","main","color","common","blue","body","fontSIze","StyledTableRow","action","hover","pink","getPatientRecord","uploadrecord","dname","reason","date","res","methods","addRecord","send","from","error","alert","recordlength","getrecordlist","call","recordlist","i","record","getPatientRecords","push","Details","handlechange","event","preventDefault","file","target","files","reader","window","FileReader","readAsArrayBuffer","onloadend","Buffer","result","onsubmit","ipfsHash","add","hash","Upload","current","value","Report","length","map","key","visitedDate","Access","doctor","grantAccess","revokeAccess","isAdmin","e","logout"],"mappings":"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","sourcesContent":["import React, { useEffect, useRef, useState } from  \"react\";\nimport {Tabs, Tab, Row, Nav, Navbar,Card,Button} from \"react-bootstrap\";\nimport {withStyles,makeStyles} from '@material-ui/core/styles';\nimport {Table, TableBody,TableCell,TableContainer,TableHead,TableRow}from \"@material-ui/core\";\nimport Paper from '@material-ui/core/Paper';\n// import { Button } from \"react-bootstrap\";\nimport ipfs from \"../ipfs\";\n// import 'bootstrap/dist/css/bootstrap.min.css';\nimport logo from \"./logo.png\"\nimport './general.css';\nimport './patient.css'\nimport history from './history';\nimport Web3 from \"web3\";\nimport { CONTRACT_ADDRESS, ABI } from \"../config.js\";\n\n\nfunction Patient(props){\n   const dnameRef = useRef();\n   const reasonRef = useRef();\n   const dateRef = useRef();\n   const addressRef = useRef();\n   const [ipfshash, setIpfshash] =useState();\n   const[buffer,setBuffer] = useState();\n const[records,setRecords] = useState([]);\n\n  console.log(props.records);\n  console.log(props.patient);\n  // const[records,setRecords] =useState([]);\n    const doctorRef = useRef();\n    const grantRef = useRef();\n\n    const name = localStorage.getItem('name')\n    const dob = localStorage.getItem('dob')\n    const gender = localStorage.getItem('gender')\n    const bloodgroup = localStorage.getItem('bloodgroup')\n    const phone = localStorage.getItem('phone')\n    const currentAccount =localStorage.getItem('currentAccount')\n    const isDoctor = localStorage.getItem('isdoctor')\n    const isUser = localStorage.getItem('isUser')\n  //  console.log(ispatient)\n   const web3 = new Web3(Web3.givenProvider)\n    const contract =  new web3.eth.Contract(ABI, CONTRACT_ADDRESS);\n\n  const useStyles = makeStyles({\n    table:{\n      minWidth:700,\n    },\n    root:{\n      width:\"100%\"\n\n    },\n    container:{\n      maxHeight:440,\n    }\n  });\n  const classes = useStyles();\n    const StyledTablecell = withStyles((theme)=>({\n      head:{\n          backgroundColor:theme.palette.info.main,\n          color : theme.palette.common.blue,\n      },\n      body:{\n          fontSIze:14,\n      },\n   })) (TableCell);\n\n   const StyledTableRow = withStyles((theme)=>({\n       root:{\n           \"&:nth-of-type(odd)\":{\n               backgroundColor: theme.palette.action.hover,\n               color: theme.palette.common.pink,\n           },\n       },\n   }))(TableRow)\n\n   useEffect(()=>{\n    getPatientRecord();\n}, [])\n\n    const uploadrecord= async(dname,reason,date)=>{\n      try{\n        console.log(\"hh\")\n        console.log(dname,reason,date);\n        console.log(currentAccount);\n        console.log(contract);\n         const res = await contract.methods.addRecord(dname,reason,date,ipfshash,props.currentAccount).send({from:props.currentAccount});\n        console.log(res);\n         getPatientRecord();\n\n      }catch(error){\n        alert(error)\n\n      }\n    }\n\n    //Get Patient details by patient\n  const getPatientRecord = async()=>{\n    try{\n      const recordlength =  await contract.methods.getrecordlist(currentAccount).call({from:currentAccount});\n      const recordlist =[];\n      for (let i =0 ;i< recordlength; i++){\n        const record = await  contract.methods.getPatientRecords(currentAccount,i).call({from:currentAccount});\n        console.log(record);\n\n        recordlist.push(record);\n      }\n      setRecords(recordlist);\n      // localStorage.setItem('dname',records.dname);\n      // localStorage.setItem('reason',records.reason)\n      // localStorage.setItem('visitDate',records.visitDate)\n      // localStorage.setItem('ipfs',records.ipfs)\n\n            // console.log(records)\n\n    }\n    catch(error){\n     console.log(error);\n    }\n  }\n\n    const Details = ()=>{\n        return(\n          <div className=\"Details\">\n            <h4>\n            Medical Records are important for you and we care about them and store them securely! Get your records anywhere with just a touch!\n\n            </h4>\n            <div className=\"card\">\n                          <h3>Your Details</h3>\n                          <hr></hr>\n                          <div>\n                            <b>\n                              Account Address:<span>{currentAccount}</span>\n                            </b>\n                          </div>\n                          <div className=\"details\">\n                            <b>\n                              Name :<span>{name}</span>\n                            </b>\n                            <br></br>\n                            <b>\n                              Phone :<span>{phone}</span>\n                            </b>\n                            <br></br>\n                            <b>\n                              Gender :<span>{gender}</span>\n                            </b>\n                            <br />\n                            <b>\n                              Date of Birth :<span>{dob}</span>\n                            </b>\n                            <br></br>\n                            <b>\n                              Blood Group :<span>{bloodgroup}</span>\n                            </b>\n                          </div>\n                        </div>\n            </div>\n\n        )\n    }\nconst handlechange = async(event)=>{\n  event.preventDefault();\n            //capture the userfile \n            const file = event.target.files[0];\n            //Read the file\n            let reader = new window.FileReader()\n            reader.readAsArrayBuffer(file)\n            //file is converted to a buffer to prepare for uploading to IPFS\n            reader.onloadend=()=>{\n                let buffer = Buffer(reader.result)\n                setBuffer(buffer);\n                console.log(\"buffer\",buffer);\n            }\n\n}\nconst onsubmit = async(event)=>{\n  event.preventDefault();\n  console.log(\"hh\");\n  const ipfsHash = await ipfs.add(buffer);\n  console.log(ipfsHash);\n        console.log(ipfsHash[0].hash)\n        setIpfshash(ipfsHash[0].hash);\n\n}\n\n    const Upload =()=>{\n        return(\n            <div className=\"ReportUpload\">\n              <h4> !!!Upload your records to the meDossier for the highest level of security!!!</h4>\n              <Card className=\"small card\">\n\n              <div className=\"upload\">\n                <label> Upload your report to IPFS</label>\n    <form onSubmit={onsubmit}>\n      \n        <input type= \"file\"  onChange ={handlechange}\n       \n        />\n        <br/>\n         <Button onClick={onsubmit}>Submit</Button>\n         </form>\n         </div>\n\n         {/* Upload file to blockchain */}\n         <form>\n         <label> Upload your record to blockchain  </label><br/>\n          Name:<input \n         type =\"text\"placeholder=\"Name of the doctor\" \n         ref={dnameRef}/><br/>\n\n         Reason: <input \n         type=\"text\" placeholder=\"Reason to visit hospital\"\n         ref ={reasonRef}\n         />\n          <br/>\n         VisitedDate: <input type=\"date\" \n         ref ={dateRef}/>\n             <br/>\n         \n         <br/>\n         {/* <input type =\"submit\"/> */}\n         <Button onClick={(event)=>{\n           event.preventDefault();\n\n           const dname = dnameRef.current.value;\n           const reason = reasonRef.current.value;\n           const date = dateRef.current.value;\n          //  const address = reasonRef.current.value\n\n           uploadrecord(dname,reason,date);\n         }}>Submit</Button>\n         </form>\n         </Card>\n         </div>\n        )\n    }\n\n  const Report =()=>{\n    \n    if(records.length  === 0){\n      return(\n        <div> \n          <h2>\n          Your Report\n        </h2>\n        <p> Your record will appear here.</p>\n         <p> loading........</p>\n        </div>\n      )\n    }\n    if(!currentAccount){\n      history.push('/')\n    }\n    \n    return(\n      <div className=\"Report\">\n        <h2>\n          Your Report\n        </h2>\n        <Paper className={classes.root}>\n        <TableContainer  className={classes.container}>\n                <Table className = {classes.table} size =\"small\" stickyHeader aria-label=\"sticky table\">\n                    <TableHead>\n                        <TableRow>\n                          <StyledTablecell> #</StyledTablecell>\n                            <StyledTablecell>\n                                Doctor name\n                            </StyledTablecell>\n                            <StyledTablecell>Reason to visit doctor </StyledTablecell>\n                            <StyledTablecell>VisitedDate</StyledTablecell>\n                            <StyledTablecell>Records</StyledTablecell>\n                        </TableRow>\n                    </TableHead>\n                    \n                    {records.map((record,key)=>( \n\n                    <TableBody>\n\n                        <StyledTableRow key ={key}>\n                          <TableCell>{key}</TableCell>\n                        <TableCell>{record.dname}</TableCell>\n                        <TableCell>{record.reason}</TableCell>\n                        <TableCell>{record.visitedDate}</TableCell>\n                        <TableCell><a href={`https://ipfs.io/ipfs/${record.ipfs}`} target=\"_blank\"> click here to view your record</a></TableCell>\n                        </StyledTableRow>\n                    </TableBody>))}\n                </Table>\n            </TableContainer>\n            </Paper>\n      </div>\n    )\n  }\n\n  const Access=()=>{\n    return(\n      <div className=\"small card\">\n        <h2>Grant/Revoke Access</h2>\n    \n                <form \n                // onSubmit ={(event)=>{\n                //     event.preventDefault();\n                //     const doctor = doctorRef.current.value;\n                //     props.grantAccess(doctor);\n                // }}\n                >\n                    <label>Provide Access: </label>\n                    <input type=\"text\" placeholder=\" Address to grant access\"\n                    ref ={grantRef}/> \n                    <Button onClick ={(event)=>{\n                      event.preventDefault();\n                      const doctor = grantRef.current.value;\n                      console.log(doctor)\n                      props.grantAccess(doctor);\n                  }}> Submit</Button>\n                    </form>\n    \n                    <br/>\n                    <form \n                    // onSubmit ={(event)=>{\n                    //     event.preventDefault();\n                    //     const doctor = doctorRef.current.value;\n                    //     props.revokeAccess(doctor);\n                    // }}\n                    >\n                        <label> Revoke Access: </label>\n                        <input type=\"text\" placeholder=\" Address to revoke access from\"\n                        ref={doctorRef}/>\n                    <Button onClick  ={(event)=>{\n                        event.preventDefault();\n                        const doctor = doctorRef.current.value;\n                        console.log(doctor);\n                        props.revokeAccess(doctor);\n                    }}> Submit</Button>\n                    </form>\n                  \n    \n      </div>\n)\n  }\n  if(!currentAccount){\n    history.push('/')\n  }\n  if(isDoctor == \"true\"){\n    history.push('/doctor_dashboard')\n  }\n  if(isAdmin == \"true\"){\n    history.push('/Registration_office')\n  }\n    return(\n        \n        <div className=\"patient_main\">\n\n            <Navbar\n            // bg=\"light\" \n            color=\"purple\"\n            expand=\"lg\" \n            >\n              <img src={logo}\n              // width=\"250\"\n              // height=\"60\"\n              className=\"d-inline-block align-top\"\n              />\n            {/* patient */}\n            <Navbar.Toggle/>\n            <Navbar.Collapse className=\"justify-content-end\">\n              <Navbar.Text > <b>Welcome </b> </Navbar.Text>\n              <Button onClick={e=>props.logout()}>Log out</Button>\n              </Navbar.Collapse>\n              </Navbar>\n\n            <div className =\"tab-wrapper\">\n            <Tab.Container  defaultActiveKey=\"details\">\n                    <div className =\"row\">\n                        <div className=\"col-sm-3\">\n                          <Nav  className=\"flex-column\">\n                            <Nav.Item>\n                            <Nav.Link eventKey=\"details\">Details</Nav.Link><hr/>\n                            </Nav.Item>\n                            <Nav.Item>\n                            <Nav.Link eventKey=\"profile\">AccessRecord</Nav.Link> <hr/></Nav.Item>                           \n                            <Nav.Item><Nav.Link eventKey=\"uploadRecord\">UploadRecord</Nav.Link><hr/></Nav.Item>\n                            <Nav.Item><Nav.Link eventKey=\"access\">Grant/Revoke Acccess</Nav.Link><hr/>\n                            </Nav.Item>\n\n                            </Nav> \n                          </div>\n\n                          <div className = \"col-sm-9\">\n                          <h1> Welcome to Medossier</h1>\n\n                            <Tab.Content>\n                {/* <Tabs defaultActiveKey=\"details\" id =\"uncontrolled-tab-example\"> */}\n                <Tab.Pane eventKey=\"details\" title =\"Details\" >\n                <Details/>\n                </Tab.Pane>\n                <Tab.Pane eventKey=\"profile\" title =\"AcessRecord\" >\n                  <Report/>\n                </Tab.Pane>\n\n                <Tab.Pane eventKey =\"uploadRecord\"  title=\"UploadRecord\">\n              <Upload/>\n             </Tab.Pane>\n             <Tab.Pane eventKey=\"access\" title=\"Grant/Revoke Acccess\">\n               <Access/>\n             </Tab.Pane>\n             {/* </Tabs> */}\n             </Tab.Content>\n            </div> \n </div>\n</Tab.Container>\n  </div>\n \n</div>\n)}\n// else {\n//   return(\n    \n//   history.push('/')\n//     )\n//   }\n\n  // }\nexport default Patient;"]},"metadata":{},"sourceType":"module"}