{"ast":null,"code":"var _jsxFileName = \"/home/ranju/location/meDossier/frontend/src/pages/patients_dashboard.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { Tabs, Tab, Row, Nav, Navbar, Card, Button } from \"react-bootstrap\";\nimport { withStyles, makeStyles } from \"@material-ui/core/styles\";\nimport { Table, TableBody, TableCell, TableContainer, TableHead, TableRow } from \"@material-ui/core\";\nimport Paper from \"@material-ui/core/Paper\";\nimport ipfs from \"../ipfs\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport logo from \"./logo.png\";\nimport \"./general.css\";\nimport \"./patient.css\";\nimport history from \"./history\";\nimport Web3 from \"web3\";\nimport { CONTRACT_ADDRESS, ABI } from \"../config.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Patient(props) {\n  _s();\n\n  const dnameRef = useRef();\n  const reasonRef = useRef();\n  const dateRef = useRef();\n  const addressRef = useRef();\n  const [ipfshash, setIpfshash] = useState();\n  const [buffer, setBuffer] = useState();\n  const [records, setRecords] = useState([]);\n  console.log(props.records);\n  console.log(props.patient); // const[records,setRecords] =useState([]);\n\n  const doctorRef = useRef();\n  const grantRef = useRef();\n  const name = localStorage.getItem(\"name\");\n  const dob = localStorage.getItem(\"dob\");\n  const gender = localStorage.getItem(\"gender\");\n  const bloodgroup = localStorage.getItem(\"bloodgroup\");\n  const phone = localStorage.getItem(\"phone\");\n  const currentAccount = localStorage.getItem(\"currentAccount\");\n  const isDoctor = localStorage.getItem(\"isdoctor\");\n  const isAdmin = localStorage.getItem(\"isUser\");\n  const ispatient = localStorage.getItem(\"ispatient\");\n  const web3 = new Web3(Web3.givenProvider);\n  const contract = new web3.eth.Contract(ABI, CONTRACT_ADDRESS);\n  const useStyles = makeStyles({\n    table: {\n      minWidth: 700\n    },\n    root: {\n      width: \"100%\"\n    },\n    container: {\n      maxHeight: 440\n    }\n  });\n  const classes = useStyles();\n  const StyledTablecell = withStyles(theme => ({\n    head: {\n      backgroundColor: theme.palette.info.main,\n      color: theme.palette.common.blue\n    },\n    body: {\n      fontSIze: 14\n    }\n  }))(TableCell);\n  const StyledTableRow = withStyles(theme => ({\n    root: {\n      \"&:nth-of-type(odd)\": {\n        backgroundColor: theme.palette.action.hover,\n        color: theme.palette.common.pink\n      }\n    }\n  }))(TableRow);\n  useEffect(() => {\n    getPatientRecord();\n  }, []);\n\n  const uploadrecord = async (dname, reason, date) => {\n    try {\n      console.log(\"hh\");\n      console.log(dname, reason, date);\n      console.log(currentAccount);\n      console.log(contract);\n      const res = await contract.methods.addRecord(dname, reason, date, ipfshash, currentAccount).send({\n        from: currentAccount\n      });\n      console.log(res);\n      getPatientRecord();\n    } catch (error) {\n      alert(error);\n    }\n  }; //Get Patient details by patient\n\n\n  const getPatientRecord = async () => {\n    try {\n      const recordlength = await contract.methods.getrecordlist(currentAccount).call({\n        from: currentAccount\n      });\n      const recordlist = [];\n\n      for (let i = 0; i < recordlength; i++) {\n        const record = await contract.methods.getPatientRecords(currentAccount, i).call({\n          from: currentAccount\n        });\n        console.log(record);\n        recordlist.push(record);\n      }\n\n      setRecords(recordlist); // localStorage.setItem('dname',records.dname);\n      // localStorage.setItem('reason',records.reason)\n      // localStorage.setItem('visitDate',records.visitDate)\n      // localStorage.setItem('ipfs',records.ipfs)\n      // console.log(records)\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const Details = () => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Details\",\n      children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n        children: \"Medical Records are important for you and we care about them and store them securely! Get your records anywhere with just a touch!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Your Details\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"b\", {\n            children: [\"Account Address:\", /*#__PURE__*/_jsxDEV(\"span\", {\n              children: currentAccount\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 31\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"details\",\n          children: [/*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"Name : \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"Phone \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 13\n          }, this), \":\", /*#__PURE__*/_jsxDEV(\"span\", {\n            children: phone\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 27\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"Gender \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 13\n          }, this), \":\", /*#__PURE__*/_jsxDEV(\"span\", {\n            children: gender\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 28\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"Date of Birth \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 13\n          }, this), \":\", /*#__PURE__*/_jsxDEV(\"span\", {\n            children: dob\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 35\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"Blood Group \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 13\n          }, this), \":\", /*#__PURE__*/_jsxDEV(\"span\", {\n            children: bloodgroup\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 7\n    }, this);\n  };\n\n  const handlechange = async event => {\n    event.preventDefault(); //capture the userfile\n\n    const file = event.target.files[0]; //Read the file\n\n    let reader = new window.FileReader();\n    reader.readAsArrayBuffer(file); //file is converted to a buffer to prepare for uploading to IPFS\n\n    reader.onloadend = () => {\n      let buffer = Buffer(reader.result);\n      setBuffer(buffer);\n      console.log(\"buffer\", buffer);\n    };\n  };\n\n  const onsubmit = async event => {\n    event.preventDefault();\n    console.log(\"hh\");\n    const ipfsHash = await ipfs.add(buffer);\n    console.log(ipfsHash);\n    console.log(ipfsHash[0].hash);\n    setIpfshash(ipfsHash[0].hash);\n  };\n\n  const Upload = () => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"ReportUpload\",\n      children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n        children: [\" \", \"!!!Upload your records to the meDossier for the highest level of security!!!\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Card, {\n        className: \"small card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"upload\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \" Upload your report to IPFS\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: onsubmit,\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"file\",\n              onChange: handlechange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 197,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 198,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              onClick: onsubmit,\n              children: \"Submit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 199,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \" Upload your record to blockchain \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 13\n          }, this), \"Name:\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Name of the doctor\",\n            ref: dnameRef\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 13\n          }, this), \"Reason:\", \" \", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Reason to visit hospital\",\n            ref: reasonRef\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 13\n          }, this), \"VisitedDate: \", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"date\",\n            ref: dateRef\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 26\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 222,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            onClick: event => {\n              event.preventDefault();\n              const dname = dnameRef.current.value;\n              const reason = reasonRef.current.value;\n              const date = dateRef.current.value; //  const address = reasonRef.current.value\n\n              uploadrecord(dname, reason, date);\n            },\n            children: \"Submit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 7\n    }, this);\n  };\n\n  const Report = () => {\n    if (records.length === 0) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Your Report\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \" Your record will appear here.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \" loading........\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 9\n      }, this);\n    }\n\n    if (!currentAccount) {\n      history.push(\"/\");\n    }\n\n    if (isDoctor == \"true\") {\n      history.push(\"/patient\");\n    }\n\n    if (isAdmin == \"true\") {\n      history.push(\"/Registration_office\");\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Report\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Your Report\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Paper, {\n        className: classes.root,\n        children: /*#__PURE__*/_jsxDEV(TableContainer, {\n          className: classes.container,\n          children: /*#__PURE__*/_jsxDEV(Table, {\n            className: classes.table,\n            size: \"small\",\n            stickyHeader: true,\n            \"aria-label\": \"sticky table\",\n            children: [/*#__PURE__*/_jsxDEV(TableHead, {\n              children: /*#__PURE__*/_jsxDEV(TableRow, {\n                children: [/*#__PURE__*/_jsxDEV(StyledTablecell, {\n                  children: \" #\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 278,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(StyledTablecell, {\n                  children: \"Doctor name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 279,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(StyledTablecell, {\n                  children: \"Reason to visit doctor \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 280,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(StyledTablecell, {\n                  children: \"VisitedDate\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 281,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(StyledTablecell, {\n                  children: \"Records\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 282,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 277,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 276,\n              columnNumber: 15\n            }, this), records.map((record, key) => /*#__PURE__*/_jsxDEV(TableBody, {\n              children: /*#__PURE__*/_jsxDEV(StyledTableRow, {\n                children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                  children: key\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 289,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  children: record.dname\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 290,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  children: record.reason\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 291,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  children: record.visitedDate\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 292,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  children: /*#__PURE__*/_jsxDEV(\"a\", {\n                    href: `https://ipfs.io/ipfs/${record.ipfs}`,\n                    target: \"_blank\",\n                    children: [\" \", \"click here to view your record\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 294,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 293,\n                  columnNumber: 21\n                }, this)]\n              }, key, true, {\n                fileName: _jsxFileName,\n                lineNumber: 288,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 287,\n              columnNumber: 17\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 7\n    }, this);\n  };\n\n  const Access = () => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"small card\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Grant/Revoke Access\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 316,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Provide Access: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 319,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \" Address to grant access\",\n          ref: grantRef\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 320,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: event => {\n            event.preventDefault();\n            const doctor = grantRef.current.value;\n            console.log(doctor);\n            props.grantAccess(doctor);\n          },\n          children: [\" \", \"Submit\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 325,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 318,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 338,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \" Revoke Access: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 340,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \" Address to revoke access from\",\n          ref: doctorRef\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 341,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: event => {\n            event.preventDefault();\n            const doctor = doctorRef.current.value;\n            console.log(doctor);\n            props.revokeAccess(doctor);\n          },\n          children: [\" \", \"Submit\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 346,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 339,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 314,\n      columnNumber: 7\n    }, this);\n  };\n\n  if (!currentAccount) {\n    history.push(\"/\");\n  }\n\n  if (isDoctor == \"true\") {\n    history.push(\"/doctor_dashboard\");\n  }\n\n  if (isAdmin == \"true\") {\n    history.push(\"/Registration_office\");\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"patient_main\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"nav_main\",\n      children: /*#__PURE__*/_jsxDEV(Navbar, {\n        expand: \"lg\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: logo,\n          width: \"120\",\n          height: \"40\",\n          className: \"d-inline-block align-top\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 374,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Navbar.Toggle, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 381,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Navbar.Collapse, {\n          className: \"justify-content-end\",\n          children: [/*#__PURE__*/_jsxDEV(Nav.Link, {\n            a: true,\n            href: \"/patient\",\n            children: [\" \", /*#__PURE__*/_jsxDEV(\"i\", {\n              class: \"fas fa-1x fa-user-circle\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 385,\n              columnNumber: 15\n            }, this), \" \", name, \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 383,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            onClick: e => props.logout(),\n            children: [\" \", /*#__PURE__*/_jsxDEV(\"i\", {\n              class: \"fas fa-1x fa-sign-out-alt\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 389,\n              columnNumber: 15\n            }, this), \" Log out\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 387,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 382,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 373,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 372,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"tab-wrapper\",\n      children: /*#__PURE__*/_jsxDEV(Tab.Container, {\n        defaultActiveKey: \"details\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-sm-3\",\n            children: /*#__PURE__*/_jsxDEV(Nav, {\n              variant: \"pills\",\n              className: \"flex-column\",\n              children: [/*#__PURE__*/_jsxDEV(Nav.Item, {\n                children: [/*#__PURE__*/_jsxDEV(Nav.Link, {\n                  eventKey: \"details\",\n                  children: /*#__PURE__*/_jsxDEV(\"b\", {\n                    children: \"Details\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 402,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 401,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 404,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 400,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Nav.Item, {\n                children: [/*#__PURE__*/_jsxDEV(Nav.Link, {\n                  eventKey: \"profile\",\n                  children: /*#__PURE__*/_jsxDEV(\"b\", {\n                    children: \"AccessRecord\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 408,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 407,\n                  columnNumber: 19\n                }, this), \" \", /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 410,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 406,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Nav.Item, {\n                children: [/*#__PURE__*/_jsxDEV(Nav.Link, {\n                  eventKey: \"uploadRecord\",\n                  children: [\" \", /*#__PURE__*/_jsxDEV(\"b\", {\n                    children: \"UploadRecord\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 415,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 413,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 417,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 412,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Nav.Item, {\n                children: [/*#__PURE__*/_jsxDEV(Nav.Link, {\n                  eventKey: \"access\",\n                  children: /*#__PURE__*/_jsxDEV(\"b\", {\n                    children: \"Grant/Revoke Acccess\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 421,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 420,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 423,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 419,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 399,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 398,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-sm-9\",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              children: \" Welcome to MeDossier\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 429,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Tab.Content, {\n              children: [/*#__PURE__*/_jsxDEV(Tab.Pane, {\n                eventKey: \"details\",\n                title: \"Details\",\n                children: /*#__PURE__*/_jsxDEV(Details, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 433,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 432,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Tab.Pane, {\n                eventKey: \"profile\",\n                title: \"AcessRecord\",\n                children: /*#__PURE__*/_jsxDEV(Report, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 436,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 435,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Tab.Pane, {\n                eventKey: \"uploadRecord\",\n                title: \"UploadRecord\",\n                children: /*#__PURE__*/_jsxDEV(Upload, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 440,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 439,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Tab.Pane, {\n                eventKey: \"access\",\n                title: \"Grant/Revoke Acccess\",\n                children: /*#__PURE__*/_jsxDEV(Access, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 443,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 442,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 431,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 428,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 397,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 396,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 395,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 371,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Patient, \"ZODZgciYjAb6pKsGR7QFkwKOHVc=\", false, function () {\n  return [useStyles];\n});\n\n_c = Patient;\nexport default Patient;\n\nvar _c;\n\n$RefreshReg$(_c, \"Patient\");","map":{"version":3,"sources":["/home/ranju/location/meDossier/frontend/src/pages/patients_dashboard.js"],"names":["React","useEffect","useRef","useState","Tabs","Tab","Row","Nav","Navbar","Card","Button","withStyles","makeStyles","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","ipfs","logo","history","Web3","CONTRACT_ADDRESS","ABI","Patient","props","dnameRef","reasonRef","dateRef","addressRef","ipfshash","setIpfshash","buffer","setBuffer","records","setRecords","console","log","patient","doctorRef","grantRef","name","localStorage","getItem","dob","gender","bloodgroup","phone","currentAccount","isDoctor","isAdmin","ispatient","web3","givenProvider","contract","eth","Contract","useStyles","table","minWidth","root","width","container","maxHeight","classes","StyledTablecell","theme","head","backgroundColor","palette","info","main","color","common","blue","body","fontSIze","StyledTableRow","action","hover","pink","getPatientRecord","uploadrecord","dname","reason","date","res","methods","addRecord","send","from","error","alert","recordlength","getrecordlist","call","recordlist","i","record","getPatientRecords","push","Details","handlechange","event","preventDefault","file","target","files","reader","window","FileReader","readAsArrayBuffer","onloadend","Buffer","result","onsubmit","ipfsHash","add","hash","Upload","current","value","Report","length","map","key","visitedDate","Access","doctor","grantAccess","revokeAccess","e","logout"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,MAA3B,EAAmCC,QAAnC,QAAmD,OAAnD;AACA,SAASC,IAAT,EAAeC,GAAf,EAAoBC,GAApB,EAAyBC,GAAzB,EAA8BC,MAA9B,EAAsCC,IAAtC,EAA4CC,MAA5C,QAA0D,iBAA1D;AACA,SAASC,UAAT,EAAqBC,UAArB,QAAuC,0BAAvC;AACA,SACEC,KADF,EAEEC,SAFF,EAGEC,SAHF,EAIEC,cAJF,EAKEC,SALF,EAMEC,QANF,QAOO,mBAPP;AAQA,OAAOC,KAAP,MAAkB,yBAAlB;AACA,OAAOC,IAAP,MAAiB,SAAjB;AACA,OAAO,sCAAP;AACA,OAAOC,IAAP,MAAiB,YAAjB;AACA,OAAO,eAAP;AACA,OAAO,eAAP;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,OAAOC,IAAP,MAAiB,MAAjB;AACA,SAASC,gBAAT,EAA2BC,GAA3B,QAAsC,cAAtC;;;AAEA,SAASC,OAAT,CAAiBC,KAAjB,EAAwB;AAAA;;AACtB,QAAMC,QAAQ,GAAG1B,MAAM,EAAvB;AACA,QAAM2B,SAAS,GAAG3B,MAAM,EAAxB;AACA,QAAM4B,OAAO,GAAG5B,MAAM,EAAtB;AACA,QAAM6B,UAAU,GAAG7B,MAAM,EAAzB;AACA,QAAM,CAAC8B,QAAD,EAAWC,WAAX,IAA0B9B,QAAQ,EAAxC;AACA,QAAM,CAAC+B,MAAD,EAASC,SAAT,IAAsBhC,QAAQ,EAApC;AACA,QAAM,CAACiC,OAAD,EAAUC,UAAV,IAAwBlC,QAAQ,CAAC,EAAD,CAAtC;AAEAmC,EAAAA,OAAO,CAACC,GAAR,CAAYZ,KAAK,CAACS,OAAlB;AACAE,EAAAA,OAAO,CAACC,GAAR,CAAYZ,KAAK,CAACa,OAAlB,EAVsB,CAWtB;;AACA,QAAMC,SAAS,GAAGvC,MAAM,EAAxB;AACA,QAAMwC,QAAQ,GAAGxC,MAAM,EAAvB;AAEA,QAAMyC,IAAI,GAAGC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAb;AACA,QAAMC,GAAG,GAAGF,YAAY,CAACC,OAAb,CAAqB,KAArB,CAAZ;AACA,QAAME,MAAM,GAAGH,YAAY,CAACC,OAAb,CAAqB,QAArB,CAAf;AACA,QAAMG,UAAU,GAAGJ,YAAY,CAACC,OAAb,CAAqB,YAArB,CAAnB;AACA,QAAMI,KAAK,GAAGL,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd;AACA,QAAMK,cAAc,GAAGN,YAAY,CAACC,OAAb,CAAqB,gBAArB,CAAvB;AACA,QAAMM,QAAQ,GAAGP,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAjB;AACA,QAAMO,OAAO,GAAGR,YAAY,CAACC,OAAb,CAAqB,QAArB,CAAhB;AACA,QAAMQ,SAAS,GAAGT,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAlB;AAEA,QAAMS,IAAI,GAAG,IAAI/B,IAAJ,CAASA,IAAI,CAACgC,aAAd,CAAb;AACA,QAAMC,QAAQ,GAAG,IAAIF,IAAI,CAACG,GAAL,CAASC,QAAb,CAAsBjC,GAAtB,EAA2BD,gBAA3B,CAAjB;AAEA,QAAMmC,SAAS,GAAG/C,UAAU,CAAC;AAC3BgD,IAAAA,KAAK,EAAE;AACLC,MAAAA,QAAQ,EAAE;AADL,KADoB;AAI3BC,IAAAA,IAAI,EAAE;AACJC,MAAAA,KAAK,EAAE;AADH,KAJqB;AAO3BC,IAAAA,SAAS,EAAE;AACTC,MAAAA,SAAS,EAAE;AADF;AAPgB,GAAD,CAA5B;AAWA,QAAMC,OAAO,GAAGP,SAAS,EAAzB;AACA,QAAMQ,eAAe,GAAGxD,UAAU,CAAEyD,KAAD,KAAY;AAC7CC,IAAAA,IAAI,EAAE;AACJC,MAAAA,eAAe,EAAEF,KAAK,CAACG,OAAN,CAAcC,IAAd,CAAmBC,IADhC;AAEJC,MAAAA,KAAK,EAAEN,KAAK,CAACG,OAAN,CAAcI,MAAd,CAAqBC;AAFxB,KADuC;AAK7CC,IAAAA,IAAI,EAAE;AACJC,MAAAA,QAAQ,EAAE;AADN;AALuC,GAAZ,CAAD,CAAV,CAQpB/D,SARoB,CAAxB;AAUA,QAAMgE,cAAc,GAAGpE,UAAU,CAAEyD,KAAD,KAAY;AAC5CN,IAAAA,IAAI,EAAE;AACJ,4BAAsB;AACpBQ,QAAAA,eAAe,EAAEF,KAAK,CAACG,OAAN,CAAcS,MAAd,CAAqBC,KADlB;AAEpBP,QAAAA,KAAK,EAAEN,KAAK,CAACG,OAAN,CAAcI,MAAd,CAAqBO;AAFR;AADlB;AADsC,GAAZ,CAAD,CAAV,CAOnBhE,QAPmB,CAAvB;AASAjB,EAAAA,SAAS,CAAC,MAAM;AACdkF,IAAAA,gBAAgB;AACjB,GAFQ,EAEN,EAFM,CAAT;;AAIA,QAAMC,YAAY,GAAG,OAAOC,KAAP,EAAcC,MAAd,EAAsBC,IAAtB,KAA+B;AAClD,QAAI;AACFjD,MAAAA,OAAO,CAACC,GAAR,CAAY,IAAZ;AACAD,MAAAA,OAAO,CAACC,GAAR,CAAY8C,KAAZ,EAAmBC,MAAnB,EAA2BC,IAA3B;AACAjD,MAAAA,OAAO,CAACC,GAAR,CAAYW,cAAZ;AACAZ,MAAAA,OAAO,CAACC,GAAR,CAAYiB,QAAZ;AACA,YAAMgC,GAAG,GAAG,MAAMhC,QAAQ,CAACiC,OAAT,CACfC,SADe,CACLL,KADK,EACEC,MADF,EACUC,IADV,EACgBvD,QADhB,EAC0BkB,cAD1B,EAEfyC,IAFe,CAEV;AAAEC,QAAAA,IAAI,EAAE1C;AAAR,OAFU,CAAlB;AAGAZ,MAAAA,OAAO,CAACC,GAAR,CAAYiD,GAAZ;AACAL,MAAAA,gBAAgB;AACjB,KAVD,CAUE,OAAOU,KAAP,EAAc;AACdC,MAAAA,KAAK,CAACD,KAAD,CAAL;AACD;AACF,GAdD,CA/DsB,CA+EtB;;;AACA,QAAMV,gBAAgB,GAAG,YAAY;AACnC,QAAI;AACF,YAAMY,YAAY,GAAG,MAAMvC,QAAQ,CAACiC,OAAT,CACxBO,aADwB,CACV9C,cADU,EAExB+C,IAFwB,CAEnB;AAAEL,QAAAA,IAAI,EAAE1C;AAAR,OAFmB,CAA3B;AAGA,YAAMgD,UAAU,GAAG,EAAnB;;AACA,WAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGJ,YAApB,EAAkCI,CAAC,EAAnC,EAAuC;AACrC,cAAMC,MAAM,GAAG,MAAM5C,QAAQ,CAACiC,OAAT,CAClBY,iBADkB,CACAnD,cADA,EACgBiD,CADhB,EAElBF,IAFkB,CAEb;AAAEL,UAAAA,IAAI,EAAE1C;AAAR,SAFa,CAArB;AAGAZ,QAAAA,OAAO,CAACC,GAAR,CAAY6D,MAAZ;AAEAF,QAAAA,UAAU,CAACI,IAAX,CAAgBF,MAAhB;AACD;;AACD/D,MAAAA,UAAU,CAAC6D,UAAD,CAAV,CAbE,CAcF;AACA;AACA;AACA;AAEA;AACD,KApBD,CAoBE,OAAOL,KAAP,EAAc;AACdvD,MAAAA,OAAO,CAACC,GAAR,CAAYsD,KAAZ;AACD;AACF,GAxBD;;AA0BA,QAAMU,OAAO,GAAG,MAAM;AACpB,wBACE;AAAK,MAAA,SAAS,EAAC,SAAf;AAAA,8BACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAKE;AAAK,QAAA,SAAS,EAAC,MAAf;AAAA,gCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE;AAAA;AAAA;AAAA;AAAA,gBAFF,eAGE;AAAA,iCACE;AAAA,wDACkB;AAAA,wBAAOrD;AAAP;AAAA;AAAA;AAAA;AAAA,oBADlB;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBAHF,eAQE;AAAK,UAAA,SAAS,EAAC,SAAf;AAAA,kCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE;AAAA,sBAAOP;AAAP;AAAA;AAAA;AAAA;AAAA,kBAFF,eAGE;AAAA;AAAA;AAAA;AAAA,kBAHF,eAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAJF,oBAIgB;AAAA,sBAAOM;AAAP;AAAA;AAAA;AAAA;AAAA,kBAJhB,eAKE;AAAA;AAAA;AAAA;AAAA,kBALF,eAME;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBANF,oBAMiB;AAAA,sBAAOF;AAAP;AAAA;AAAA;AAAA;AAAA,kBANjB,eAQE;AAAA;AAAA;AAAA;AAAA,kBARF,eASE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBATF,oBASwB;AAAA,sBAAOD;AAAP;AAAA;AAAA;AAAA;AAAA,kBATxB,eAWE;AAAA;AAAA;AAAA;AAAA,kBAXF,eAYE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAZF,oBAYsB;AAAA,sBAAOE;AAAP;AAAA;AAAA;AAAA;AAAA,kBAZtB;AAAA;AAAA;AAAA;AAAA;AAAA,gBARF;AAAA;AAAA;AAAA;AAAA;AAAA,cALF;AAAA;AAAA;AAAA;AAAA;AAAA,YADF;AAgCD,GAjCD;;AAkCA,QAAMwD,YAAY,GAAG,MAAOC,KAAP,IAAiB;AACpCA,IAAAA,KAAK,CAACC,cAAN,GADoC,CAEpC;;AACA,UAAMC,IAAI,GAAGF,KAAK,CAACG,MAAN,CAAaC,KAAb,CAAmB,CAAnB,CAAb,CAHoC,CAIpC;;AACA,QAAIC,MAAM,GAAG,IAAIC,MAAM,CAACC,UAAX,EAAb;AACAF,IAAAA,MAAM,CAACG,iBAAP,CAAyBN,IAAzB,EANoC,CAOpC;;AACAG,IAAAA,MAAM,CAACI,SAAP,GAAmB,MAAM;AACvB,UAAIhF,MAAM,GAAGiF,MAAM,CAACL,MAAM,CAACM,MAAR,CAAnB;AACAjF,MAAAA,SAAS,CAACD,MAAD,CAAT;AACAI,MAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBL,MAAtB;AACD,KAJD;AAKD,GAbD;;AAcA,QAAMmF,QAAQ,GAAG,MAAOZ,KAAP,IAAiB;AAChCA,IAAAA,KAAK,CAACC,cAAN;AACApE,IAAAA,OAAO,CAACC,GAAR,CAAY,IAAZ;AACA,UAAM+E,QAAQ,GAAG,MAAMlG,IAAI,CAACmG,GAAL,CAASrF,MAAT,CAAvB;AACAI,IAAAA,OAAO,CAACC,GAAR,CAAY+E,QAAZ;AACAhF,IAAAA,OAAO,CAACC,GAAR,CAAY+E,QAAQ,CAAC,CAAD,CAAR,CAAYE,IAAxB;AACAvF,IAAAA,WAAW,CAACqF,QAAQ,CAAC,CAAD,CAAR,CAAYE,IAAb,CAAX;AACD,GAPD;;AASA,QAAMC,MAAM,GAAG,MAAM;AACnB,wBACE;AAAK,MAAA,SAAS,EAAC,cAAf;AAAA,8BACE;AAAA,mBACG,GADH;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAME,QAAC,IAAD;AAAM,QAAA,SAAS,EAAC,YAAhB;AAAA,gCACE;AAAK,UAAA,SAAS,EAAC,QAAf;AAAA,kCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE;AAAM,YAAA,QAAQ,EAAEJ,QAAhB;AAAA,oCACE;AAAO,cAAA,IAAI,EAAC,MAAZ;AAAmB,cAAA,QAAQ,EAAEb;AAA7B;AAAA;AAAA;AAAA;AAAA,oBADF,eAEE;AAAA;AAAA;AAAA;AAAA,oBAFF,eAGE,QAAC,MAAD;AAAQ,cAAA,OAAO,EAAEa,QAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAHF;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAWE;AAAA,kCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE;AAAA;AAAA;AAAA;AAAA,kBAFF,wBAIE;AACE,YAAA,IAAI,EAAC,MADP;AAEE,YAAA,WAAW,EAAC,oBAFd;AAGE,YAAA,GAAG,EAAEzF;AAHP;AAAA;AAAA;AAAA;AAAA,kBAJF,eASE;AAAA;AAAA;AAAA;AAAA,kBATF,aAUU,GAVV,eAWE;AACE,YAAA,IAAI,EAAC,MADP;AAEE,YAAA,WAAW,EAAC,0BAFd;AAGE,YAAA,GAAG,EAAEC;AAHP;AAAA;AAAA;AAAA;AAAA,kBAXF,eAgBE;AAAA;AAAA;AAAA;AAAA,kBAhBF,gCAiBe;AAAO,YAAA,IAAI,EAAC,MAAZ;AAAmB,YAAA,GAAG,EAAEC;AAAxB;AAAA;AAAA;AAAA;AAAA,kBAjBf,eAkBE;AAAA;AAAA;AAAA;AAAA,kBAlBF,eAmBE;AAAA;AAAA;AAAA;AAAA,kBAnBF,eAqBE,QAAC,MAAD;AACE,YAAA,OAAO,EAAG2E,KAAD,IAAW;AAClBA,cAAAA,KAAK,CAACC,cAAN;AAEA,oBAAMrB,KAAK,GAAGzD,QAAQ,CAAC8F,OAAT,CAAiBC,KAA/B;AACA,oBAAMrC,MAAM,GAAGzD,SAAS,CAAC6F,OAAV,CAAkBC,KAAjC;AACA,oBAAMpC,IAAI,GAAGzD,OAAO,CAAC4F,OAAR,CAAgBC,KAA7B,CALkB,CAMlB;;AAEAvC,cAAAA,YAAY,CAACC,KAAD,EAAQC,MAAR,EAAgBC,IAAhB,CAAZ;AACD,aAVH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBArBF;AAAA;AAAA;AAAA;AAAA;AAAA,gBAXF;AAAA;AAAA;AAAA;AAAA;AAAA,cANF;AAAA;AAAA;AAAA;AAAA;AAAA,YADF;AAyDD,GA1DD;;AA4DA,QAAMqC,MAAM,GAAG,MAAM;AACnB,QAAIxF,OAAO,CAACyF,MAAR,KAAmB,CAAvB,EAA0B;AACxB,0BACE;AAAA,gCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFF,eAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAHF;AAAA;AAAA;AAAA;AAAA;AAAA,cADF;AAOD;;AACD,QAAI,CAAC3E,cAAL,EAAqB;AACnB5B,MAAAA,OAAO,CAACgF,IAAR,CAAa,GAAb;AACD;;AACD,QAAInD,QAAQ,IAAI,MAAhB,EAAwB;AACtB7B,MAAAA,OAAO,CAACgF,IAAR,CAAa,UAAb;AACD;;AACD,QAAIlD,OAAO,IAAI,MAAf,EAAuB;AACrB9B,MAAAA,OAAO,CAACgF,IAAR,CAAa,sBAAb;AACD;;AAED,wBACE;AAAK,MAAA,SAAS,EAAC,QAAf;AAAA,8BACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAEE,QAAC,KAAD;AAAO,QAAA,SAAS,EAAEpC,OAAO,CAACJ,IAA1B;AAAA,+BACE,QAAC,cAAD;AAAgB,UAAA,SAAS,EAAEI,OAAO,CAACF,SAAnC;AAAA,iCACE,QAAC,KAAD;AACE,YAAA,SAAS,EAAEE,OAAO,CAACN,KADrB;AAEE,YAAA,IAAI,EAAC,OAFP;AAGE,YAAA,YAAY,MAHd;AAIE,0BAAW,cAJb;AAAA,oCAME,QAAC,SAAD;AAAA,qCACE,QAAC,QAAD;AAAA,wCACE,QAAC,eAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,eAEE,QAAC,eAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAFF,eAGE,QAAC,eAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAHF,eAIE,QAAC,eAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAJF,eAKE,QAAC,eAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBALF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,oBANF,EAgBGxB,OAAO,CAAC0F,GAAR,CAAY,CAAC1B,MAAD,EAAS2B,GAAT,kBACX,QAAC,SAAD;AAAA,qCACE,QAAC,cAAD;AAAA,wCACE,QAAC,SAAD;AAAA,4BAAYA;AAAZ;AAAA;AAAA;AAAA;AAAA,wBADF,eAEE,QAAC,SAAD;AAAA,4BAAY3B,MAAM,CAACf;AAAnB;AAAA;AAAA;AAAA;AAAA,wBAFF,eAGE,QAAC,SAAD;AAAA,4BAAYe,MAAM,CAACd;AAAnB;AAAA;AAAA;AAAA;AAAA,wBAHF,eAIE,QAAC,SAAD;AAAA,4BAAYc,MAAM,CAAC4B;AAAnB;AAAA;AAAA;AAAA;AAAA,wBAJF,eAKE,QAAC,SAAD;AAAA,yCACE;AACE,oBAAA,IAAI,EAAG,wBAAuB5B,MAAM,CAAChF,IAAK,EAD5C;AAEE,oBAAA,MAAM,EAAC,QAFT;AAAA,+BAIG,GAJH;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,wBALF;AAAA,iBAAqB2G,GAArB;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,oBADD,CAhBH;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cAFF;AAAA;AAAA;AAAA;AAAA;AAAA,YADF;AA6CD,GAjED;;AAmEA,QAAME,MAAM,GAAG,MAAM;AACnB,wBACE;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA,8BACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAEE;AAAA;AAAA;AAAA;AAAA,cAFF,eAIE;AAAA,gCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE;AACE,UAAA,IAAI,EAAC,MADP;AAEE,UAAA,WAAW,EAAC,0BAFd;AAGE,UAAA,GAAG,EAAEvF;AAHP;AAAA;AAAA;AAAA;AAAA,gBAFF,eAOE,QAAC,MAAD;AACE,UAAA,OAAO,EAAG+D,KAAD,IAAW;AAClBA,YAAAA,KAAK,CAACC,cAAN;AACA,kBAAMwB,MAAM,GAAGxF,QAAQ,CAACgF,OAAT,CAAiBC,KAAhC;AACArF,YAAAA,OAAO,CAACC,GAAR,CAAY2F,MAAZ;AACAvG,YAAAA,KAAK,CAACwG,WAAN,CAAkBD,MAAlB;AACD,WANH;AAAA,qBAQG,GARH;AAAA;AAAA;AAAA;AAAA;AAAA,gBAPF;AAAA;AAAA;AAAA;AAAA;AAAA,cAJF,eAwBE;AAAA;AAAA;AAAA;AAAA,cAxBF,eAyBE;AAAA,gCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE;AACE,UAAA,IAAI,EAAC,MADP;AAEE,UAAA,WAAW,EAAC,gCAFd;AAGE,UAAA,GAAG,EAAEzF;AAHP;AAAA;AAAA;AAAA;AAAA,gBAFF,eAOE,QAAC,MAAD;AACE,UAAA,OAAO,EAAGgE,KAAD,IAAW;AAClBA,YAAAA,KAAK,CAACC,cAAN;AACA,kBAAMwB,MAAM,GAAGzF,SAAS,CAACiF,OAAV,CAAkBC,KAAjC;AACArF,YAAAA,OAAO,CAACC,GAAR,CAAY2F,MAAZ;AACAvG,YAAAA,KAAK,CAACyG,YAAN,CAAmBF,MAAnB;AACD,WANH;AAAA,qBAQG,GARH;AAAA;AAAA;AAAA;AAAA;AAAA,gBAPF;AAAA;AAAA;AAAA;AAAA;AAAA,cAzBF;AAAA;AAAA;AAAA;AAAA;AAAA,YADF;AA+CD,GAhDD;;AAiDA,MAAI,CAAChF,cAAL,EAAqB;AACnB5B,IAAAA,OAAO,CAACgF,IAAR,CAAa,GAAb;AACD;;AACD,MAAInD,QAAQ,IAAI,MAAhB,EAAwB;AACtB7B,IAAAA,OAAO,CAACgF,IAAR,CAAa,mBAAb;AACD;;AACD,MAAIlD,OAAO,IAAI,MAAf,EAAuB;AACrB9B,IAAAA,OAAO,CAACgF,IAAR,CAAa,sBAAb;AACD;;AACD,sBACE;AAAK,IAAA,SAAS,EAAC,cAAf;AAAA,4BACE;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA,6BACE,QAAC,MAAD;AAAQ,QAAA,MAAM,EAAC,IAAf;AAAA,gCACE;AACE,UAAA,GAAG,EAAEjF,IADP;AAEE,UAAA,KAAK,EAAC,KAFR;AAGE,UAAA,MAAM,EAAC,IAHT;AAIE,UAAA,SAAS,EAAC;AAJZ;AAAA;AAAA;AAAA;AAAA,gBADF,eAQE,QAAC,MAAD,CAAQ,MAAR;AAAA;AAAA;AAAA;AAAA,gBARF,eASE,QAAC,MAAD,CAAQ,QAAR;AAAiB,UAAA,SAAS,EAAC,qBAA3B;AAAA,kCACE,QAAC,GAAD,CAAK,IAAL;AAAU,YAAA,CAAC,MAAX;AAAY,YAAA,IAAI,EAAC,UAAjB;AAAA,uBACG,GADH,eAEE;AAAG,cAAA,KAAK,EAAC;AAAT;AAAA;AAAA;AAAA;AAAA,oBAFF,OAE4CsB,IAF5C,EAEkD,GAFlD;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAKE,QAAC,MAAD;AAAQ,YAAA,OAAO,EAAG0F,CAAD,IAAO1G,KAAK,CAAC2G,MAAN,EAAxB;AAAA,uBACG,GADH,eAEE;AAAG,cAAA,KAAK,EAAC;AAAT;AAAA;AAAA;AAAA;AAAA,oBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,kBALF;AAAA;AAAA;AAAA;AAAA;AAAA,gBATF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YADF,eAwBE;AAAK,MAAA,SAAS,EAAC,aAAf;AAAA,6BACE,QAAC,GAAD,CAAK,SAAL;AAAe,QAAA,gBAAgB,EAAC,SAAhC;AAAA,+BACE;AAAK,UAAA,SAAS,EAAC,KAAf;AAAA,kCACE;AAAK,YAAA,SAAS,EAAC,UAAf;AAAA,mCACE,QAAC,GAAD;AAAK,cAAA,OAAO,EAAC,OAAb;AAAqB,cAAA,SAAS,EAAC,aAA/B;AAAA,sCACE,QAAC,GAAD,CAAK,IAAL;AAAA,wCACE,QAAC,GAAD,CAAK,IAAL;AAAU,kBAAA,QAAQ,EAAC,SAAnB;AAAA,yCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,wBADF,eAIE;AAAA;AAAA;AAAA;AAAA,wBAJF;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,eAOE,QAAC,GAAD,CAAK,IAAL;AAAA,wCACE,QAAC,GAAD,CAAK,IAAL;AAAU,kBAAA,QAAQ,EAAC,SAAnB;AAAA,yCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,wBADF,EAGc,GAHd,eAIE;AAAA;AAAA;AAAA;AAAA,wBAJF;AAAA;AAAA;AAAA;AAAA;AAAA,sBAPF,eAaE,QAAC,GAAD,CAAK,IAAL;AAAA,wCACE,QAAC,GAAD,CAAK,IAAL;AAAU,kBAAA,QAAQ,EAAC,cAAnB;AAAA,6BACG,GADH,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAFF;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,eAKE;AAAA;AAAA;AAAA;AAAA,wBALF;AAAA;AAAA;AAAA;AAAA;AAAA,sBAbF,eAoBE,QAAC,GAAD,CAAK,IAAL;AAAA,wCACE,QAAC,GAAD,CAAK,IAAL;AAAU,kBAAA,QAAQ,EAAC,QAAnB;AAAA,yCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,wBADF,eAIE;AAAA;AAAA;AAAA;AAAA,wBAJF;AAAA;AAAA;AAAA;AAAA;AAAA,sBApBF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBADF,eA+BE;AAAK,YAAA,SAAS,EAAC,UAAf;AAAA,oCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,eAGE,QAAC,GAAD,CAAK,OAAL;AAAA,sCACE,QAAC,GAAD,CAAK,IAAL;AAAU,gBAAA,QAAQ,EAAC,SAAnB;AAA6B,gBAAA,KAAK,EAAC,SAAnC;AAAA,uCACE,QAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,sBADF,eAIE,QAAC,GAAD,CAAK,IAAL;AAAU,gBAAA,QAAQ,EAAC,SAAnB;AAA6B,gBAAA,KAAK,EAAC,aAAnC;AAAA,uCACE,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,sBAJF,eAQE,QAAC,GAAD,CAAK,IAAL;AAAU,gBAAA,QAAQ,EAAC,cAAnB;AAAkC,gBAAA,KAAK,EAAC,cAAxC;AAAA,uCACE,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,sBARF,eAWE,QAAC,GAAD,CAAK,IAAL;AAAU,gBAAA,QAAQ,EAAC,QAAnB;AAA4B,gBAAA,KAAK,EAAC,sBAAlC;AAAA,uCACE,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,sBAXF;AAAA;AAAA;AAAA;AAAA;AAAA,oBAHF;AAAA;AAAA;AAAA;AAAA;AAAA,kBA/BF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YAxBF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAmFD;;GA/aQ5G,O;UAuCSiC,S;;;KAvCTjC,O;AAibT,eAAeA,OAAf","sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\nimport { Tabs, Tab, Row, Nav, Navbar, Card, Button } from \"react-bootstrap\";\nimport { withStyles, makeStyles } from \"@material-ui/core/styles\";\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n} from \"@material-ui/core\";\nimport Paper from \"@material-ui/core/Paper\";\nimport ipfs from \"../ipfs\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport logo from \"./logo.png\";\nimport \"./general.css\";\nimport \"./patient.css\";\nimport history from \"./history\";\nimport Web3 from \"web3\";\nimport { CONTRACT_ADDRESS, ABI } from \"../config.js\";\n\nfunction Patient(props) {\n  const dnameRef = useRef();\n  const reasonRef = useRef();\n  const dateRef = useRef();\n  const addressRef = useRef();\n  const [ipfshash, setIpfshash] = useState();\n  const [buffer, setBuffer] = useState();\n  const [records, setRecords] = useState([]);\n\n  console.log(props.records);\n  console.log(props.patient);\n  // const[records,setRecords] =useState([]);\n  const doctorRef = useRef();\n  const grantRef = useRef();\n\n  const name = localStorage.getItem(\"name\");\n  const dob = localStorage.getItem(\"dob\");\n  const gender = localStorage.getItem(\"gender\");\n  const bloodgroup = localStorage.getItem(\"bloodgroup\");\n  const phone = localStorage.getItem(\"phone\");\n  const currentAccount = localStorage.getItem(\"currentAccount\");\n  const isDoctor = localStorage.getItem(\"isdoctor\");\n  const isAdmin = localStorage.getItem(\"isUser\");\n  const ispatient = localStorage.getItem(\"ispatient\");\n\n  const web3 = new Web3(Web3.givenProvider);\n  const contract = new web3.eth.Contract(ABI, CONTRACT_ADDRESS);\n\n  const useStyles = makeStyles({\n    table: {\n      minWidth: 700,\n    },\n    root: {\n      width: \"100%\",\n    },\n    container: {\n      maxHeight: 440,\n    },\n  });\n  const classes = useStyles();\n  const StyledTablecell = withStyles((theme) => ({\n    head: {\n      backgroundColor: theme.palette.info.main,\n      color: theme.palette.common.blue,\n    },\n    body: {\n      fontSIze: 14,\n    },\n  }))(TableCell);\n\n  const StyledTableRow = withStyles((theme) => ({\n    root: {\n      \"&:nth-of-type(odd)\": {\n        backgroundColor: theme.palette.action.hover,\n        color: theme.palette.common.pink,\n      },\n    },\n  }))(TableRow);\n\n  useEffect(() => {\n    getPatientRecord();\n  }, []);\n\n  const uploadrecord = async (dname, reason, date) => {\n    try {\n      console.log(\"hh\");\n      console.log(dname, reason, date);\n      console.log(currentAccount);\n      console.log(contract);\n      const res = await contract.methods\n        .addRecord(dname, reason, date, ipfshash, currentAccount)\n        .send({ from: currentAccount });\n      console.log(res);\n      getPatientRecord();\n    } catch (error) {\n      alert(error);\n    }\n  };\n\n  //Get Patient details by patient\n  const getPatientRecord = async () => {\n    try {\n      const recordlength = await contract.methods\n        .getrecordlist(currentAccount)\n        .call({ from: currentAccount });\n      const recordlist = [];\n      for (let i = 0; i < recordlength; i++) {\n        const record = await contract.methods\n          .getPatientRecords(currentAccount, i)\n          .call({ from: currentAccount });\n        console.log(record);\n\n        recordlist.push(record);\n      }\n      setRecords(recordlist);\n      // localStorage.setItem('dname',records.dname);\n      // localStorage.setItem('reason',records.reason)\n      // localStorage.setItem('visitDate',records.visitDate)\n      // localStorage.setItem('ipfs',records.ipfs)\n\n      // console.log(records)\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const Details = () => {\n    return (\n      <div className=\"Details\">\n        <h5>\n          Medical Records are important for you and we care about them and store\n          them securely! Get your records anywhere with just a touch!\n        </h5>\n        <div className=\"card\">\n          <h3>Your Details</h3>\n          <hr></hr>\n          <div>\n            <b>\n              Account Address:<span>{currentAccount}</span>\n            </b>\n          </div>\n          <div className=\"details\">\n            <b>Name : </b>\n            <span>{name}</span>\n            <br></br>\n            <b>Phone </b>:<span>{phone}</span>\n            <br></br>\n            <b>Gender </b>:<span>{gender}</span>\n            {/* </b> */}\n            <br />\n            <b>Date of Birth </b>:<span>{dob}</span>\n            {/* </b> */}\n            <br></br>\n            <b>Blood Group </b>:<span>{bloodgroup}</span>\n            {/* </b> */}\n          </div>\n        </div>\n      </div>\n    );\n  };\n  const handlechange = async (event) => {\n    event.preventDefault();\n    //capture the userfile\n    const file = event.target.files[0];\n    //Read the file\n    let reader = new window.FileReader();\n    reader.readAsArrayBuffer(file);\n    //file is converted to a buffer to prepare for uploading to IPFS\n    reader.onloadend = () => {\n      let buffer = Buffer(reader.result);\n      setBuffer(buffer);\n      console.log(\"buffer\", buffer);\n    };\n  };\n  const onsubmit = async (event) => {\n    event.preventDefault();\n    console.log(\"hh\");\n    const ipfsHash = await ipfs.add(buffer);\n    console.log(ipfsHash);\n    console.log(ipfsHash[0].hash);\n    setIpfshash(ipfsHash[0].hash);\n  };\n\n  const Upload = () => {\n    return (\n      <div className=\"ReportUpload\">\n        <h5>\n          {\" \"}\n          !!!Upload your records to the meDossier for the highest level of\n          security!!!\n        </h5>\n        <Card className=\"small card\">\n          <div className=\"upload\">\n            <label> Upload your report to IPFS</label>\n            <form onSubmit={onsubmit}>\n              <input type=\"file\" onChange={handlechange} />\n              <br />\n              <Button onClick={onsubmit}>Submit</Button>\n            </form>\n          </div>\n\n          {/* Upload file to blockchain */}\n          <form>\n            <label> Upload your record to blockchain </label>\n            <br />\n            Name:\n            <input\n              type=\"text\"\n              placeholder=\"Name of the doctor\"\n              ref={dnameRef}\n            />\n            <br />\n            Reason:{\" \"}\n            <input\n              type=\"text\"\n              placeholder=\"Reason to visit hospital\"\n              ref={reasonRef}\n            />\n            <br />\n            VisitedDate: <input type=\"date\" ref={dateRef} />\n            <br />\n            <br />\n            {/* <input type =\"submit\"/> */}\n            <Button\n              onClick={(event) => {\n                event.preventDefault();\n\n                const dname = dnameRef.current.value;\n                const reason = reasonRef.current.value;\n                const date = dateRef.current.value;\n                //  const address = reasonRef.current.value\n\n                uploadrecord(dname, reason, date);\n              }}\n            >\n              Submit\n            </Button>\n          </form>\n        </Card>\n      </div>\n    );\n  };\n\n  const Report = () => {\n    if (records.length === 0) {\n      return (\n        <div>\n          <h2>Your Report</h2>\n          <p> Your record will appear here.</p>\n          <p> loading........</p>\n        </div>\n      );\n    }\n    if (!currentAccount) {\n      history.push(\"/\");\n    }\n    if (isDoctor == \"true\") {\n      history.push(\"/patient\");\n    }\n    if (isAdmin == \"true\") {\n      history.push(\"/Registration_office\");\n    }\n\n    return (\n      <div className=\"Report\">\n        <h2>Your Report</h2>\n        <Paper className={classes.root}>\n          <TableContainer className={classes.container}>\n            <Table\n              className={classes.table}\n              size=\"small\"\n              stickyHeader\n              aria-label=\"sticky table\"\n            >\n              <TableHead>\n                <TableRow>\n                  <StyledTablecell> #</StyledTablecell>\n                  <StyledTablecell>Doctor name</StyledTablecell>\n                  <StyledTablecell>Reason to visit doctor </StyledTablecell>\n                  <StyledTablecell>VisitedDate</StyledTablecell>\n                  <StyledTablecell>Records</StyledTablecell>\n                </TableRow>\n              </TableHead>\n\n              {records.map((record, key) => (\n                <TableBody>\n                  <StyledTableRow key={key}>\n                    <TableCell>{key}</TableCell>\n                    <TableCell>{record.dname}</TableCell>\n                    <TableCell>{record.reason}</TableCell>\n                    <TableCell>{record.visitedDate}</TableCell>\n                    <TableCell>\n                      <a\n                        href={`https://ipfs.io/ipfs/${record.ipfs}`}\n                        target=\"_blank\"\n                      >\n                        {\" \"}\n                        click here to view your record\n                      </a>\n                    </TableCell>\n                  </StyledTableRow>\n                </TableBody>\n              ))}\n            </Table>\n          </TableContainer>\n        </Paper>\n      </div>\n    );\n  };\n\n  const Access = () => {\n    return (\n      <div className=\"small card\">\n        <h3>Grant/Revoke Access</h3>\n        <hr />\n\n        <form>\n          <label>Provide Access: </label>\n          <input\n            type=\"text\"\n            placeholder=\" Address to grant access\"\n            ref={grantRef}\n          />\n          <Button\n            onClick={(event) => {\n              event.preventDefault();\n              const doctor = grantRef.current.value;\n              console.log(doctor);\n              props.grantAccess(doctor);\n            }}\n          >\n            {\" \"}\n            Submit\n          </Button>\n        </form>\n\n        <br />\n        <form>\n          <label> Revoke Access: </label>\n          <input\n            type=\"text\"\n            placeholder=\" Address to revoke access from\"\n            ref={doctorRef}\n          />\n          <Button\n            onClick={(event) => {\n              event.preventDefault();\n              const doctor = doctorRef.current.value;\n              console.log(doctor);\n              props.revokeAccess(doctor);\n            }}\n          >\n            {\" \"}\n            Submit\n          </Button>\n        </form>\n      </div>\n    );\n  };\n  if (!currentAccount) {\n    history.push(\"/\");\n  }\n  if (isDoctor == \"true\") {\n    history.push(\"/doctor_dashboard\");\n  }\n  if (isAdmin == \"true\") {\n    history.push(\"/Registration_office\");\n  }\n  return (\n    <div className=\"patient_main\">\n      <div className=\"nav_main\">\n        <Navbar expand=\"lg\">\n          <img\n            src={logo}\n            width=\"120\"\n            height=\"40\"\n            className=\"d-inline-block align-top\"\n          />\n          {/* patient */}\n          <Navbar.Toggle />\n          <Navbar.Collapse className=\"justify-content-end\">\n            <Nav.Link a href=\"/patient\">\n              {\" \"}\n              <i class=\"fas fa-1x fa-user-circle\"></i> {name}{\" \"}\n            </Nav.Link>\n            <Button onClick={(e) => props.logout()}>\n              {\" \"}\n              <i class=\"fas fa-1x fa-sign-out-alt\"></i> Log out\n            </Button>\n          </Navbar.Collapse>\n        </Navbar>\n      </div>\n\n      <div className=\"tab-wrapper\">\n        <Tab.Container defaultActiveKey=\"details\">\n          <div className=\"row\">\n            <div className=\"col-sm-3\">\n              <Nav variant=\"pills\" className=\"flex-column\">\n                <Nav.Item>\n                  <Nav.Link eventKey=\"details\">\n                    <b>Details</b>\n                  </Nav.Link>\n                  <hr />\n                </Nav.Item>\n                <Nav.Item>\n                  <Nav.Link eventKey=\"profile\">\n                    <b>AccessRecord</b>\n                  </Nav.Link>{\" \"}\n                  <hr />\n                </Nav.Item>\n                <Nav.Item>\n                  <Nav.Link eventKey=\"uploadRecord\">\n                    {\" \"}\n                    <b>UploadRecord</b>\n                  </Nav.Link>\n                  <hr />\n                </Nav.Item>\n                <Nav.Item>\n                  <Nav.Link eventKey=\"access\">\n                    <b>Grant/Revoke Acccess</b>\n                  </Nav.Link>\n                  <hr />\n                </Nav.Item>\n              </Nav>\n            </div>\n\n            <div className=\"col-sm-9\">\n              <h1> Welcome to MeDossier</h1>\n\n              <Tab.Content>\n                <Tab.Pane eventKey=\"details\" title=\"Details\">\n                  <Details />\n                </Tab.Pane>\n                <Tab.Pane eventKey=\"profile\" title=\"AcessRecord\">\n                  <Report />\n                </Tab.Pane>\n\n                <Tab.Pane eventKey=\"uploadRecord\" title=\"UploadRecord\">\n                  <Upload />\n                </Tab.Pane>\n                <Tab.Pane eventKey=\"access\" title=\"Grant/Revoke Acccess\">\n                  <Access />\n                </Tab.Pane>\n                {/* </Tabs> */}\n              </Tab.Content>\n            </div>\n          </div>\n        </Tab.Container>\n      </div>\n    </div>\n  );\n}\n\nexport default Patient;\n"]},"metadata":{},"sourceType":"module"}